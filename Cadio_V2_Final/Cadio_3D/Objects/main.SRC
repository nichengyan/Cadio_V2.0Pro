; .\Objects\main.SRC generated from: main.c
; COMPILER INVOKED BY:
;        C:\Keil_v5\C51\BIN\C51.EXE main.c LARGE OBJECTADVANCED OPTIMIZE(8,SPEED) BROWSE INTVECTOR(0X3000) INCDIR(.\comm;.\hardware;.\graphic) DEBUG CODE PRINT(.\Listings\main.lst) SRC(.\Objects\main.SRC)

$NOMOD51

NAME	MAIN

ACC7	BIT	0E0H.7
P0M1	DATA	093H
P1M0	DATA	092H
P2M0	DATA	096H
P1M1	DATA	091H
P0	DATA	080H
P3M0	DATA	0B2H
P2M1	DATA	095H
P1	DATA	090H
P4M0	DATA	0B4H
P3M1	DATA	0B1H
P2	DATA	0A0H
P5M0	DATA	0CAH
P4M1	DATA	0B3H
P3	DATA	0B0H
WKTCH	DATA	0ABH
T0	BIT	0B0H.4
AC	BIT	0D0H.6
P6M0	DATA	0CCH
P5M1	DATA	0C9H
P4	DATA	0C0H
CLKOUT0	BIT	0B0H.5
T1	BIT	0B0H.5
P7M0	DATA	0E2H
P6M1	DATA	0CBH
P5	DATA	0C8H
ISP_TRIG	DATA	0C6H
EA	BIT	0A8H.7
CLKOUT1	BIT	0B0H.4
SPI_SS_2	BIT	0A0H.2
P6	DATA	0E8H
P7M1	DATA	0E1H
SPI_MISO	BIT	090H.4
SPI_MOSI	BIT	090H.3
CCP0	BIT	090H.1
P7	DATA	0F8H
WKTCL	DATA	0AAH
SPI_SS_4	BIT	0B0H.5
CCP1	BIT	090H.0
SPCTL	DATA	0CEH
CCP2	BIT	0B0H.7
P_SW1	DATA	0A2H
P_SW2	DATA	0BAH
EADC	BIT	0A8H.5
SPI_SCLK_2	BIT	0A0H.5
DPH1	DATA	0E5H
IE	DATA	0A8H
SPI_SCLK_4	BIT	0B0H.2
IAP_CMD	DATA	0C5H
Wifi	BIT	0A0H.0
DPL1	DATA	0E4H
ADC_RES	DATA	0BDH
IP2H	DATA	0B6H
IP3H	DATA	0EEH
TA	DATA	0AEH
CS	BIT	0B0H.5
INTCLKO	DATA	08FH
ES	BIT	0A8H.4
PADC	BIT	0B8H.5
SPI_MISO_2	BIT	0A0H.4
SPI_MOSI_2	BIT	0A0H.3
CCP0_2	BIT	0B0H.5
IP	DATA	0B8H
laser	BIT	090H.3
CCP1_2	BIT	0B0H.6
ADCCFG	DATA	0DEH
light	BIT	090H.7
RI	BIT	098H.0
SPI_MISO_4	BIT	0B0H.3
SPI_MOSI_4	BIT	0B0H.4
CCP2_2	BIT	0B0H.7
SI	BIT	0B0H.4
INT0	BIT	0B0H.2
CY	BIT	0D0H.7
TI	BIT	098H.1
INT1	BIT	0B0H.3
INT2	BIT	0B0H.6
INT3	BIT	0B0H.7
INT4	BIT	0B0H.0
IAP_ADDRH	DATA	0C3H
RXD2	BIT	090H.0
SO	BIT	0B0H.3
ISP_CMD	DATA	0C5H
PS	BIT	0B8H.4
TXD2	BIT	090H.1
SP	DATA	081H
IAP_ADDRL	DATA	0C4H
PPCA	BIT	0B8H.7
OV	BIT	0D0H.2
LIRTRIM	DATA	09EH
WP	BIT	0B0H.7
HOLD	BIT	0B0H.6
CMPCR1	DATA	0E6H
CMPCR2	DATA	0E7H
ELVD	BIT	0A8H.6
P00	BIT	080H.0
P10	BIT	090H.0
P01	BIT	080H.1
ADC_CONTR	DATA	0BCH
SBUF	DATA	099H
PCON	DATA	087H
P20	BIT	0A0H.0
P11	BIT	090H.1
P02	BIT	080H.2
ISP_ADDRH	DATA	0C3H
P30	BIT	0B0H.0
P21	BIT	0A0H.1
P12	BIT	090H.2
P03	BIT	080H.3
IAP_TPS	DATA	0F5H
P31	BIT	0B0H.1
P22	BIT	0A0H.2
P13	BIT	090H.3
SCON	DATA	098H
P32	BIT	0B0H.2
P23	BIT	0A0H.3
P14	BIT	090H.4
TMOD	DATA	089H
TCON	DATA	088H
P33	BIT	0B0H.3
P24	BIT	0A0H.4
P15	BIT	090H.5
ISP_ADDRL	DATA	0C4H
PLVD	BIT	0B8H.6
P34	BIT	0B0H.4
P25	BIT	0A0H.5
P16	BIT	090H.6
P35	BIT	0B0H.5
P26	BIT	0A0H.6
P17	BIT	090H.7
P54	BIT	0C8H.4
P36	BIT	0B0H.6
P27	BIT	0A0H.7
P55	BIT	0C8H.5
P37	BIT	0B0H.7
IE0	BIT	088H.1
IE1	BIT	088H.3
IE2	DATA	0AFH
B	DATA	0F0H
AUXR	DATA	08EH
USBADR	DATA	0FCH
IAP_CONTR	DATA	0C7H
USBDAT	DATA	0ECH
USBCLK	DATA	0DCH
CS1	BIT	0A0H.3
ACC	DATA	0E0H
ET0	BIT	0A8H.1
ET1	BIT	0A8H.3
TF0	BIT	088H.5
TF1	BIT	088H.7
RSTCFG	DATA	0FFH
IP2	DATA	0B5H
RB8	BIT	098H.2
USBCON	DATA	0F4H
IP3	DATA	0DFH
TH0	DATA	08CH
EX0	BIT	0A8H.0
IT0	BIT	088H.0
TH1	DATA	08DH
EX1	BIT	0A8H.2
TB8	BIT	098H.3
IT1	BIT	088H.2
TH2	DATA	0D6H
T2H	DATA	0D6H
P	BIT	0D0H.0
TH3	DATA	0D4H
T3H	DATA	0D4H
SM0	BIT	098H.7
TH4	DATA	0D2H
T4H	DATA	0D2H
TL0	DATA	08AH
SM1	BIT	098H.6
ECI	BIT	090H.2
TL1	DATA	08BH
SM2	BIT	098H.5
TL2	DATA	0D7H
T2L	DATA	0D7H
TL3	DATA	0D5H
T3L	DATA	0D5H
PT0	BIT	0B8H.1
TL4	DATA	0D3H
T4L	DATA	0D3H
PT1	BIT	0B8H.3
RS0	BIT	0D0H.3
ISP_CONTR	DATA	0C7H
TR0	BIT	088H.4
RS1	BIT	0D0H.4
IAP_DATA	DATA	0C2H
TR1	BIT	088H.6
PX0	BIT	0B8H.0
WDT_CONTR	DATA	0C1H
PX1	BIT	0B8H.2
IRTRIM	DATA	09FH
CLK	BIT	0B0H.2
DPH	DATA	083H
T4T3M	DATA	0D1H
OLED_SDA	BIT	0A0H.4
ADC_RESL	DATA	0BEH
DPL	DATA	082H
SPSTAT	DATA	0CDH
IPH	DATA	0B7H
ECI_2	BIT	0B0H.4
S2BUF	DATA	09BH
S3BUF	DATA	0ADH
REN	BIT	098H.4
S4BUF	DATA	085H
S2CON	DATA	09AH
DPS	DATA	0E3H
S3CON	DATA	0ACH
OLED_SCL	BIT	0A0H.5
ISP_DATA	DATA	0C2H
S4CON	DATA	084H
AUXINTIF	DATA	0EFH
SADEN	DATA	0B9H
RXD	BIT	0B0H.0
SADDR	DATA	0A9H
OLED_RES	BIT	0E8H.2
TXD	BIT	0B0H.1
B0	BIT	0F0H.0
B1	BIT	0F0H.1
IAP_TRIG	DATA	0C6H
B2	BIT	0F0H.2
SPI_SS	BIT	090H.2
Audio	BIT	0A0H.1
B3	BIT	0F0H.3
B4	BIT	0F0H.4
F0	BIT	0D0H.5
IRCBAND	DATA	09DH
B5	BIT	0F0H.5
F1	BIT	0D0H.1
INT_CLKO	DATA	08FH
B6	BIT	0F0H.6
ACC0	BIT	0E0H.0
B7	BIT	0F0H.7
ACC1	BIT	0E0H.1
ACC2	BIT	0E0H.2
ACC3	BIT	0E0H.3
PSW	DATA	0D0H
ACC4	BIT	0E0H.4
SPI_SCLK	BIT	090H.5
ACC5	BIT	0E0H.5
ACC6	BIT	0E0H.6
SPDAT	DATA	0CFH
P0M0	DATA	094H
?PR?_drawDitherPixel?MAIN                SEGMENT CODE 
?XD?_drawDitherPixel?MAIN                SEGMENT XDATA OVERLAYABLE
?PR?_drawLine?MAIN   SEGMENT CODE 
?XD?_drawLine?MAIN   SEGMENT XDATA OVERLAYABLE
?PR?drawFace?MAIN    SEGMENT CODE 
?XD?drawFace?MAIN    SEGMENT XDATA OVERLAYABLE
?PR?initTrigTables?MAIN                  SEGMENT CODE 
?XD?initTrigTables?MAIN                  SEGMENT XDATA OVERLAYABLE
?PR?_fixed_sin?MAIN  SEGMENT CODE 
?PR?_fixed_cos?MAIN  SEGMENT CODE 
?PR?_rotatePoint?MAIN                    SEGMENT CODE 
?XD?_rotatePoint?MAIN                    SEGMENT XDATA OVERLAYABLE
?PR?PWM_config?MAIN  SEGMENT CODE 
?PR?_Tones?MAIN      SEGMENT CODE 
?PR?_Beep?MAIN       SEGMENT CODE 
?XD?_Beep?MAIN       SEGMENT XDATA OVERLAYABLE
?PR?Buzzer_Poll?MAIN SEGMENT CODE 
?PR?Timer1_Isr?MAIN  SEGMENT CODE 
?PR?Timer1_Init?MAIN SEGMENT CODE 
?PR?main?MAIN        SEGMENT CODE 
?XD?main?MAIN        SEGMENT XDATA OVERLAYABLE
?CO?MAIN             SEGMENT CONST 
?C_INITSEG           SEGMENT CODE 
?XD?MAIN             SEGMENT XDATA 
	EXTRN	CODE (OLED_Display_On)
	EXTRN	CODE (_Graphic_ClearBufferBit)
	EXTRN	CODE (_Graphic_Printf)
	EXTRN	XDATA (?_Graphic_Printf?BYTE)
	EXTRN	CODE (OLED_Init)
	EXTRN	CODE (Graphic_Flush)
	EXTRN	CODE (_OLED_ColorTurn)
	EXTRN	CODE (_abs)
	EXTRN	CODE (_Graphic_DrawPoint)
	EXTRN	CODE (_cos)
	EXTRN	CODE (_sin)
	EXTRN	CODE (OLED_Clear)
	EXTRN	CODE (?C?SIDIV)
	EXTRN	CODE (?C?IMUL)
	EXTRN	CODE (?C?ILDOPTR)
	EXTRN	CODE (?C?COPY)
	EXTRN	CODE (?C?FCASTI)
	EXTRN	CODE (?C?FPMUL)
	EXTRN	CODE (?C?FPDIV)
	EXTRN	CODE (?C?LSTXDATA)
	EXTRN	CODE (?C?CASTF)
	EXTRN	CODE (?C?ILDPTR)
	EXTRN	CODE (?C?LMUL)
	EXTRN	CODE (?C?SLDIV)
	EXTRN	CODE (?C?ISTPTR)
	EXTRN	CODE (?C?ULDIV)
	EXTRN	CODE (?C_STARTUP)
	EXTRN	CODE (?C?OFFXADD)
	EXTRN	CODE (?C?FPCMP3)
	PUBLIC	DITHER_MATRIX
	PUBLIC	t
	PUBLIC	duration
	PUBLIC	k
	PUBLIC	j
	PUBLIC	i
	PUBLIC	ObjVertices
	PUBLIC	now_freq
	PUBLIC	now_dura
	PUBLIC	ms
	PUBLIC	ptr
	PUBLIC	time_used
	PUBLIC	sin_table
	PUBLIC	cos_table
	PUBLIC	sound_array
	PUBLIC	sound
	PUBLIC	status
	PUBLIC	flag
	PUBLIC	ObjEdges
	PUBLIC	tb1
	PUBLIC	ta1
	PUBLIC	ObjFaces
	PUBLIC	main
	PUBLIC	Timer1_Init
	PUBLIC	Timer1_Isr
	PUBLIC	Buzzer_Poll
	PUBLIC	_Beep
	PUBLIC	_Tones
	PUBLIC	PWM_config
	PUBLIC	?_rotatePoint?BYTE
	PUBLIC	_rotatePoint
	PUBLIC	_fixed_cos
	PUBLIC	_fixed_sin
	PUBLIC	initTrigTables
	PUBLIC	?drawFace?BYTE
	PUBLIC	drawFace
	PUBLIC	?_drawLine?BYTE
	PUBLIC	_drawLine
	PUBLIC	_drawDitherPixel

	RSEG  ?XD?_drawDitherPixel?MAIN
?_drawDitherPixel?BYTE:
          x?040:   DS   2
	ORG  2
          y?041:   DS   2
	ORG  4
       gray?042:   DS   2

	RSEG  ?XD?_rotatePoint?MAIN
?_rotatePoint?BYTE:
     angleX?681:   DS   2
	ORG  2
     angleY?682:   DS   2
	ORG  4
     angleZ?683:   DS   2
	ORG  6
          x?684:   DS   3
	ORG  9
          y?685:   DS   3
	ORG  12
          z?686:   DS   3
	ORG  15
      tempX?687:   DS   2
	ORG  17
      tempY?688:   DS   2
	ORG  19
      tempZ?689:   DS   2
	ORG  21
       sinX?690:   DS   2
	ORG  23
       cosX?691:   DS   2
	ORG  25
       sinY?692:   DS   2
	ORG  27
       cosY?693:   DS   2
	ORG  29
       sinZ?694:   DS   2
	ORG  31
       cosZ?695:   DS   2

	RSEG  ?XD?drawFace?MAIN
?drawFace?BYTE:
       face?253:   DS   11
	ORG  11
screenVertices?254:   DS   3
	ORG  60
    screenY?255:   DS   2
	ORG  60
      nextJ?256:   DS   2
	ORG  60
       temp?257:   DS   2
	ORG  60
     startX?258:   DS   2
	ORG  62
       endX?259:   DS   2
	ORG  14
          i?260:   DS   2
	ORG  16
       minY?261:   DS   2
	ORG  18
       maxY?262:   DS   2
	ORG  20
         x1?263:   DS   2
	ORG  22
         y1?264:   DS   2
	ORG  24
         y2?266:   DS   2
	ORG  26
          x?267:   DS   2
	ORG  28
intersections?269:   DS   8
	ORG  36
intersectCount?270:   DS   2
	ORG  38
          j?271:   DS   2
	ORG  40
         v1?273:   DS   6
	ORG  46
         v2?274:   DS   6
	ORG  52
          a?275:   DS   4
	ORG  56
          b?276:   DS   4

	RSEG  ?XD?main?MAIN
?main?BYTE:
	ORG  2331
         x?1399:   DS   2
	ORG  2333
        y?13100:   DS   2
	ORG  2335
        z?13101:   DS   2
	ORG  0
   ms_cnt?13102:   DS   2
	ORG  2
     quit?13103:   DS   1
	ORG  3
   angleX?13104:   DS   2
	ORG  5
   angleY?13105:   DS   2
	ORG  7
   angleZ?13106:   DS   2
	ORG  9
        i?13107:   DS   2
	ORG  11
transformedVertices?13108:   DS   768
	ORG  779
screenVertices?13109:   DS   768
	ORG  1547
faceDepths?13110:   DS   512
	ORG  2059
faceOrder?13111:   DS   256
	ORG  2315
        j?13112:   DS   2
	ORG  2317
        k?13113:   DS   2
	ORG  2319
faceIndex?13114:   DS   2
	ORG  2321
  v1Index?13115:   DS   2
	ORG  2323
  v2Index?13116:   DS   2
	ORG  2325
tempDepth?13117:   DS   4
	ORG  2329
 avgDepth?13119:   DS   2

	RSEG  ?XD?initTrigTables?MAIN
?initTrigTables?BYTE:
          i?377:   DS   2
	ORG  2
      angle?378:   DS   4

	RSEG  ?XD?_drawLine?MAIN
?_drawLine?BYTE:
         x1?143:   DS   2
	ORG  2
         y1?144:   DS   2
	ORG  4
         x2?145:   DS   2
	ORG  6
         y2?146:   DS   2
	ORG  8
         dx?147:   DS   2
	ORG  10
         dy?148:   DS   2
	ORG  12
         sx?149:   DS   2
	ORG  14
         sy?150:   DS   2
	ORG  16
        err?151:   DS   2
	ORG  18
         e2?152:   DS   2

	RSEG  ?XD?_Beep?MAIN
?_Beep?BYTE:
          f?997:   DS   2

	RSEG  ?XD?MAIN
       ObjFaces:   DS   66
            ta1:   DS   4
            tb1:   DS   4
       ObjEdges:   DS   48
           flag:   DS   1
         status:   DS   1
          sound:   DS   222
    sound_array:   DS   3
      cos_table:   DS   720
      sin_table:   DS   720
      time_used:   DS   4
            ptr:   DS   1
             ms:   DS   4
       now_dura:   DS   2
       now_freq:   DS   2
    ObjVertices:   DS   48
              i:   DS   2
              j:   DS   2
              k:   DS   2
       duration:   DS   1
Graphic_FrameBuffer:   DS   1024
              t:   DS   2
  DITHER_MATRIX:   DS   32

	RSEG  ?CO?MAIN
?SC_0:
	DB  '%' ,'.' ,'1' ,'f' ,000H

Asc1608:
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0F8H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	033H
	DB	030H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	010H
	DB	00CH
	DB	006H
	DB	010H
	DB	00CH
	DB	006H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	040H
	DB	0C0H
	DB	078H
	DB	040H
	DB	0C0H
	DB	078H
	DB	040H
	DB	000H
	DB	004H
	DB	03FH
	DB	004H
	DB	004H
	DB	03FH
	DB	004H
	DB	004H
	DB	000H
	DB	000H
	DB	070H
	DB	088H
	DB	0FCH
	DB	008H
	DB	030H
	DB	000H
	DB	000H
	DB	000H
	DB	018H
	DB	020H
	DB	0FFH
	DB	021H
	DB	01EH
	DB	000H
	DB	000H
	DB	0F0H
	DB	008H
	DB	0F0H
	DB	000H
	DB	0E0H
	DB	018H
	DB	000H
	DB	000H
	DB	000H
	DB	021H
	DB	01CH
	DB	003H
	DB	01EH
	DB	021H
	DB	01EH
	DB	000H
	DB	000H
	DB	0F0H
	DB	008H
	DB	088H
	DB	070H
	DB	000H
	DB	000H
	DB	000H
	DB	01EH
	DB	021H
	DB	023H
	DB	024H
	DB	019H
	DB	027H
	DB	021H
	DB	010H
	DB	010H
	DB	016H
	DB	00EH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0E0H
	DB	018H
	DB	004H
	DB	002H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	007H
	DB	018H
	DB	020H
	DB	040H
	DB	000H
	DB	000H
	DB	002H
	DB	004H
	DB	018H
	DB	0E0H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	040H
	DB	020H
	DB	018H
	DB	007H
	DB	000H
	DB	000H
	DB	000H
	DB	040H
	DB	040H
	DB	080H
	DB	0F0H
	DB	080H
	DB	040H
	DB	040H
	DB	000H
	DB	002H
	DB	002H
	DB	001H
	DB	00FH
	DB	001H
	DB	002H
	DB	002H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0F0H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	001H
	DB	001H
	DB	001H
	DB	01FH
	DB	001H
	DB	001H
	DB	001H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	0B0H
	DB	070H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	001H
	DB	001H
	DB	001H
	DB	001H
	DB	001H
	DB	001H
	DB	001H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	030H
	DB	030H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	060H
	DB	018H
	DB	004H
	DB	000H
	DB	060H
	DB	018H
	DB	006H
	DB	001H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0E0H
	DB	010H
	DB	008H
	DB	008H
	DB	010H
	DB	0E0H
	DB	000H
	DB	000H
	DB	00FH
	DB	010H
	DB	020H
	DB	020H
	DB	010H
	DB	00FH
	DB	000H
	DB	000H
	DB	010H
	DB	010H
	DB	0F8H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	000H
	DB	000H
	DB	000H
	DB	070H
	DB	008H
	DB	008H
	DB	008H
	DB	088H
	DB	070H
	DB	000H
	DB	000H
	DB	030H
	DB	028H
	DB	024H
	DB	022H
	DB	021H
	DB	030H
	DB	000H
	DB	000H
	DB	030H
	DB	008H
	DB	088H
	DB	088H
	DB	048H
	DB	030H
	DB	000H
	DB	000H
	DB	018H
	DB	020H
	DB	020H
	DB	020H
	DB	011H
	DB	00EH
	DB	000H
	DB	000H
	DB	000H
	DB	0C0H
	DB	020H
	DB	010H
	DB	0F8H
	DB	000H
	DB	000H
	DB	000H
	DB	007H
	DB	004H
	DB	024H
	DB	024H
	DB	03FH
	DB	024H
	DB	000H
	DB	000H
	DB	0F8H
	DB	008H
	DB	088H
	DB	088H
	DB	008H
	DB	008H
	DB	000H
	DB	000H
	DB	019H
	DB	021H
	DB	020H
	DB	020H
	DB	011H
	DB	00EH
	DB	000H
	DB	000H
	DB	0E0H
	DB	010H
	DB	088H
	DB	088H
	DB	018H
	DB	000H
	DB	000H
	DB	000H
	DB	00FH
	DB	011H
	DB	020H
	DB	020H
	DB	011H
	DB	00EH
	DB	000H
	DB	000H
	DB	038H
	DB	008H
	DB	008H
	DB	0C8H
	DB	038H
	DB	008H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	03FH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	070H
	DB	088H
	DB	008H
	DB	008H
	DB	088H
	DB	070H
	DB	000H
	DB	000H
	DB	01CH
	DB	022H
	DB	021H
	DB	021H
	DB	022H
	DB	01CH
	DB	000H
	DB	000H
	DB	0E0H
	DB	010H
	DB	008H
	DB	008H
	DB	010H
	DB	0E0H
	DB	000H
	DB	000H
	DB	000H
	DB	031H
	DB	022H
	DB	022H
	DB	011H
	DB	00FH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0C0H
	DB	0C0H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	030H
	DB	030H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	060H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	040H
	DB	020H
	DB	010H
	DB	008H
	DB	000H
	DB	000H
	DB	001H
	DB	002H
	DB	004H
	DB	008H
	DB	010H
	DB	020H
	DB	000H
	DB	040H
	DB	040H
	DB	040H
	DB	040H
	DB	040H
	DB	040H
	DB	040H
	DB	000H
	DB	004H
	DB	004H
	DB	004H
	DB	004H
	DB	004H
	DB	004H
	DB	004H
	DB	000H
	DB	000H
	DB	008H
	DB	010H
	DB	020H
	DB	040H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	010H
	DB	008H
	DB	004H
	DB	002H
	DB	001H
	DB	000H
	DB	000H
	DB	070H
	DB	048H
	DB	008H
	DB	008H
	DB	008H
	DB	0F0H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	030H
	DB	036H
	DB	001H
	DB	000H
	DB	000H
	DB	0C0H
	DB	030H
	DB	0C8H
	DB	028H
	DB	0E8H
	DB	010H
	DB	0E0H
	DB	000H
	DB	007H
	DB	018H
	DB	027H
	DB	024H
	DB	023H
	DB	014H
	DB	00BH
	DB	000H
	DB	000H
	DB	000H
	DB	0C0H
	DB	038H
	DB	0E0H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	03CH
	DB	023H
	DB	002H
	DB	002H
	DB	027H
	DB	038H
	DB	020H
	DB	008H
	DB	0F8H
	DB	088H
	DB	088H
	DB	088H
	DB	070H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	020H
	DB	011H
	DB	00EH
	DB	000H
	DB	0C0H
	DB	030H
	DB	008H
	DB	008H
	DB	008H
	DB	008H
	DB	038H
	DB	000H
	DB	007H
	DB	018H
	DB	020H
	DB	020H
	DB	020H
	DB	010H
	DB	008H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	008H
	DB	008H
	DB	010H
	DB	0E0H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	020H
	DB	010H
	DB	00FH
	DB	000H
	DB	008H
	DB	0F8H
	DB	088H
	DB	088H
	DB	0E8H
	DB	008H
	DB	010H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	023H
	DB	020H
	DB	018H
	DB	000H
	DB	008H
	DB	0F8H
	DB	088H
	DB	088H
	DB	0E8H
	DB	008H
	DB	010H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	003H
	DB	000H
	DB	000H
	DB	000H
	DB	0C0H
	DB	030H
	DB	008H
	DB	008H
	DB	008H
	DB	038H
	DB	000H
	DB	000H
	DB	007H
	DB	018H
	DB	020H
	DB	020H
	DB	022H
	DB	01EH
	DB	002H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	000H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	020H
	DB	03FH
	DB	021H
	DB	001H
	DB	001H
	DB	021H
	DB	03FH
	DB	020H
	DB	000H
	DB	008H
	DB	008H
	DB	0F8H
	DB	008H
	DB	008H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	008H
	DB	008H
	DB	0F8H
	DB	008H
	DB	008H
	DB	000H
	DB	0C0H
	DB	080H
	DB	080H
	DB	080H
	DB	07FH
	DB	000H
	DB	000H
	DB	000H
	DB	008H
	DB	0F8H
	DB	088H
	DB	0C0H
	DB	028H
	DB	018H
	DB	008H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	001H
	DB	026H
	DB	038H
	DB	020H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	020H
	DB	020H
	DB	030H
	DB	000H
	DB	008H
	DB	0F8H
	DB	0F8H
	DB	000H
	DB	0F8H
	DB	0F8H
	DB	008H
	DB	000H
	DB	020H
	DB	03FH
	DB	000H
	DB	03FH
	DB	000H
	DB	03FH
	DB	020H
	DB	000H
	DB	008H
	DB	0F8H
	DB	030H
	DB	0C0H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	007H
	DB	018H
	DB	03FH
	DB	000H
	DB	0E0H
	DB	010H
	DB	008H
	DB	008H
	DB	008H
	DB	010H
	DB	0E0H
	DB	000H
	DB	00FH
	DB	010H
	DB	020H
	DB	020H
	DB	020H
	DB	010H
	DB	00FH
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	008H
	DB	008H
	DB	008H
	DB	0F0H
	DB	000H
	DB	020H
	DB	03FH
	DB	021H
	DB	001H
	DB	001H
	DB	001H
	DB	000H
	DB	000H
	DB	0E0H
	DB	010H
	DB	008H
	DB	008H
	DB	008H
	DB	010H
	DB	0E0H
	DB	000H
	DB	00FH
	DB	018H
	DB	024H
	DB	024H
	DB	038H
	DB	050H
	DB	04FH
	DB	000H
	DB	008H
	DB	0F8H
	DB	088H
	DB	088H
	DB	088H
	DB	088H
	DB	070H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	003H
	DB	00CH
	DB	030H
	DB	020H
	DB	000H
	DB	070H
	DB	088H
	DB	008H
	DB	008H
	DB	008H
	DB	038H
	DB	000H
	DB	000H
	DB	038H
	DB	020H
	DB	021H
	DB	021H
	DB	022H
	DB	01CH
	DB	000H
	DB	018H
	DB	008H
	DB	008H
	DB	0F8H
	DB	008H
	DB	008H
	DB	018H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	000H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	000H
	DB	000H
	DB	008H
	DB	0F8H
	DB	008H
	DB	000H
	DB	01FH
	DB	020H
	DB	020H
	DB	020H
	DB	020H
	DB	01FH
	DB	000H
	DB	008H
	DB	078H
	DB	088H
	DB	000H
	DB	000H
	DB	0C8H
	DB	038H
	DB	008H
	DB	000H
	DB	000H
	DB	007H
	DB	038H
	DB	00EH
	DB	001H
	DB	000H
	DB	000H
	DB	0F8H
	DB	008H
	DB	000H
	DB	0F8H
	DB	000H
	DB	008H
	DB	0F8H
	DB	000H
	DB	003H
	DB	03CH
	DB	007H
	DB	000H
	DB	007H
	DB	03CH
	DB	003H
	DB	000H
	DB	008H
	DB	018H
	DB	068H
	DB	080H
	DB	080H
	DB	068H
	DB	018H
	DB	008H
	DB	020H
	DB	030H
	DB	02CH
	DB	003H
	DB	003H
	DB	02CH
	DB	030H
	DB	020H
	DB	008H
	DB	038H
	DB	0C8H
	DB	000H
	DB	0C8H
	DB	038H
	DB	008H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	000H
	DB	000H
	DB	010H
	DB	008H
	DB	008H
	DB	008H
	DB	0C8H
	DB	038H
	DB	008H
	DB	000H
	DB	020H
	DB	038H
	DB	026H
	DB	021H
	DB	020H
	DB	020H
	DB	018H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0FEH
	DB	002H
	DB	002H
	DB	002H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	07FH
	DB	040H
	DB	040H
	DB	040H
	DB	000H
	DB	000H
	DB	00CH
	DB	030H
	DB	0C0H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	001H
	DB	006H
	DB	038H
	DB	0C0H
	DB	000H
	DB	000H
	DB	002H
	DB	002H
	DB	002H
	DB	0FEH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	040H
	DB	040H
	DB	040H
	DB	07FH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	004H
	DB	002H
	DB	002H
	DB	002H
	DB	004H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	002H
	DB	002H
	DB	004H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	019H
	DB	024H
	DB	022H
	DB	022H
	DB	022H
	DB	03FH
	DB	020H
	DB	008H
	DB	0F8H
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	03FH
	DB	011H
	DB	020H
	DB	020H
	DB	011H
	DB	00EH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	00EH
	DB	011H
	DB	020H
	DB	020H
	DB	020H
	DB	011H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	088H
	DB	0F8H
	DB	000H
	DB	000H
	DB	00EH
	DB	011H
	DB	020H
	DB	020H
	DB	010H
	DB	03FH
	DB	020H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	01FH
	DB	022H
	DB	022H
	DB	022H
	DB	022H
	DB	013H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	0F0H
	DB	088H
	DB	088H
	DB	088H
	DB	018H
	DB	000H
	DB	020H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	06BH
	DB	094H
	DB	094H
	DB	094H
	DB	093H
	DB	060H
	DB	000H
	DB	008H
	DB	0F8H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	021H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	080H
	DB	098H
	DB	098H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	098H
	DB	098H
	DB	000H
	DB	000H
	DB	000H
	DB	0C0H
	DB	080H
	DB	080H
	DB	080H
	DB	07FH
	DB	000H
	DB	000H
	DB	008H
	DB	0F8H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	020H
	DB	03FH
	DB	024H
	DB	002H
	DB	02DH
	DB	030H
	DB	020H
	DB	000H
	DB	000H
	DB	008H
	DB	008H
	DB	0F8H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	020H
	DB	020H
	DB	03FH
	DB	020H
	DB	020H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	03FH
	DB	020H
	DB	000H
	DB	03FH
	DB	080H
	DB	080H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	021H
	DB	000H
	DB	000H
	DB	020H
	DB	03FH
	DB	020H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	01FH
	DB	020H
	DB	020H
	DB	020H
	DB	020H
	DB	01FH
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	0FFH
	DB	0A1H
	DB	020H
	DB	020H
	DB	011H
	DB	00EH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	00EH
	DB	011H
	DB	020H
	DB	020H
	DB	0A0H
	DB	0FFH
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	020H
	DB	020H
	DB	03FH
	DB	021H
	DB	020H
	DB	000H
	DB	001H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	033H
	DB	024H
	DB	024H
	DB	024H
	DB	024H
	DB	019H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	0E0H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	01FH
	DB	020H
	DB	020H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	01FH
	DB	020H
	DB	020H
	DB	020H
	DB	010H
	DB	03FH
	DB	020H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	001H
	DB	00EH
	DB	030H
	DB	008H
	DB	006H
	DB	001H
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	080H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	00FH
	DB	030H
	DB	00CH
	DB	003H
	DB	00CH
	DB	030H
	DB	00FH
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	020H
	DB	031H
	DB	02EH
	DB	00EH
	DB	031H
	DB	020H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	081H
	DB	08EH
	DB	070H
	DB	018H
	DB	006H
	DB	001H
	DB	000H
	DB	000H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	080H
	DB	000H
	DB	000H
	DB	021H
	DB	030H
	DB	02CH
	DB	022H
	DB	021H
	DB	030H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	080H
	DB	07CH
	DB	002H
	DB	002H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	03FH
	DB	040H
	DB	040H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0FFH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	0FFH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	002H
	DB	002H
	DB	07CH
	DB	080H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	040H
	DB	040H
	DB	03FH
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	006H
	DB	001H
	DB	001H
	DB	002H
	DB	002H
	DB	004H
	DB	004H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H
	DB	000H


	RSEG ?PR?main?MAIN

	RSEG  ?C_INITSEG
	DB	060H
	DB	030H
	DW	ObjVertices
	DW	0E200H
	DW	0E200H
	DW	0E200H
	DW	01E00H
	DW	0E200H
	DW	0E200H
	DW	01E00H
	DW	01E00H
	DW	0E200H
	DW	0E200H
	DW	01E00H
	DW	0E200H
	DW	0E200H
	DW	0E200H
	DW	01E00H
	DW	01E00H
	DW	0E200H
	DW	01E00H
	DW	01E00H
	DW	01E00H
	DW	01E00H
	DW	0E200H
	DW	01E00H
	DW	01E00H

	DB	060H
	DB	030H
	DW	ObjEdges
	DW	00000H
	DW	00001H
	DW	00001H
	DW	00002H
	DW	00002H
	DW	00003H
	DW	00003H
	DW	00000H
	DW	00004H
	DW	00005H
	DW	00005H
	DW	00006H
	DW	00006H
	DW	00007H
	DW	00007H
	DW	00004H
	DW	00000H
	DW	00004H
	DW	00001H
	DW	00005H
	DW	00002H
	DW	00006H
	DW	00003H
	DW	00007H

	DB	060H
	DB	042H
	DW	ObjFaces
	DW	00004H
	DW	00000H
	DW	00001H
	DW	00002H
	DW	00003H
	DB	001H
	DW	00004H
	DW	00005H
	DW	00004H
	DW	00007H
	DW	00006H
	DB	004H
	DW	00004H
	DW	00004H
	DW	00000H
	DW	00003H
	DW	00007H
	DB	007H
	DW	00004H
	DW	00001H
	DW	00005H
	DW	00006H
	DW	00002H
	DB	00BH
	DW	00004H
	DW	00003H
	DW	00002H
	DW	00006H
	DW	00007H
	DB	00DH
	DW	00004H
	DW	00004H
	DW	00005H
	DW	00001H
	DW	00000H
	DB	00FH

	DB	060H
	DB	020H
	DW	DITHER_MATRIX
	DW	00000H
	DW	00008H
	DW	00002H
	DW	0000AH
	DW	0000CH
	DW	00004H
	DW	0000EH
	DW	00006H
	DW	00003H
	DW	0000BH
	DW	00001H
	DW	00009H
	DW	0000FH
	DW	00007H
	DW	0000DH
	DW	00005H

	DB	042H
	DW	t
	DW	00000H

	DB	042H
	DW	i
	DW	00000H

	DB	042H
	DW	j
	DW	00000H

	DB	042H
	DW	k
	DW	00000H

	DB	044H
	DW	ms
	DB	000H,000H,000H,000H	; long

	DB	041H
	DW	flag
	DB	000H

	DB	060H
	DB	0DEH
	DW	sound
	DW	00151H
	DW	00007H
	DW	00000H
	DW	00015H
	DW	0018DH
	DW	00007H
	DW	00000H
	DW	00007H
	DW	0014BH
	DW	00007H
	DW	00136H
	DW	00007H
	DW	00146H
	DW	00007H
	DW	00169H
	DW	00007H
	DW	0019EH
	DW	00007H
	DW	0007FH
	DW	00007H
	DW	00185H
	DW	00007H
	DW	00228H
	DW	00007H
	DW	0026DH
	DW	00007H
	DW	002FCH
	DW	00007H
	DW	002E0H
	DW	00007H
	DW	001FDH
	DW	00007H
	DW	00219H
	DW	00007H
	DW	0033CH
	DW	00007H
	DW	000E7H
	DW	00007H
	DW	00281H
	DW	00007H
	DW	0026DH
	DW	0000EH
	DW	0052DH
	DW	0000EH
	DW	004DAH
	DW	0000EH
	DW	0011CH
	DW	00007H
	DW	00387H
	DW	00007H
	DW	00360H
	DW	00007H
	DW	0033CH
	DW	00007H
	DW	00387H
	DW	00007H
	DW	002ADH
	DW	0000EH
	DW	002C6H
	DW	00007H
	DW	0010CH
	DW	0000EH
	DW	002E0H
	DW	00007H
	DW	002C6H
	DW	00007H
	DW	00296H
	DW	0000EH
	DW	00281H
	DW	00007H
	DW	002ADH
	DW	00007H
	DW	002C6H
	DW	00007H
	DW	002E0H
	DW	00007H
	DW	000E1H
	DW	00007H
	DW	0031BH
	DW	00007H
	DW	00248H
	DW	00007H
	DW	00219H
	DW	00007H
	DW	001F1H
	DW	00007H
	DW	001D9H
	DW	0000EH
	DW	001F1H
	DW	00007H
	DW	0020BH
	DW	00007H
	DW	002ADH
	DW	00007H
	DW	000D1H
	DW	00007H
	DW	00248H
	DW	00007H
	DW	00238H
	DW	00007H
	DW	00219H
	DW	00007H
	DW	00228H
	DW	0000EH
	DW	0020BH
	DW	00007H
	DW	001E5H
	DW	00007H
	DW	001D9H
	DW	00007H
	DW	08000H

	DB	042H
	DW	now_freq
	DW	0001EH

	DB	042H
	DW	now_dura
	DW	0001EH

	DB	041H
	DW	status
	DB	000H

	DB	041H
	DW	ptr
	DB	000H

; #include "_STC8X_.h"
; #include "oled.h"
; #include "W25QXX.h"
; #include <math.h>
; #include "intrins.h"
; #include "Graphic.h"
; #define Main_Fosc 40000000ul
; #define WINDOW_WIDTH 128*2     /* 放大6倍便于观看 */
; #define WINDOW_HEIGHT 64*2      /* 放大6倍便于观看 */
; #define LOGICAL_WIDTH 128       /* 逻辑分辨率 */
; #define LOGICAL_HEIGHT 64       /* 逻辑分辨率 */
; #define FIXED_SCALE 256         /* 定点数缩放因子：256 = 2^8 */
; /* 使用16位定点数：高8位整数，低8位小数 */
; typedef int fixed_t;  /* 16位有符号定点数 */
; 
; /* 定点数转换宏 */
; #define INT_TO_FIXED(x) ((fixed_t)((x) * FIXED_SCALE))
; #define FIXED_TO_INT(x) ((fixed_t)((x) / FIXED_SCALE))
; #define FIXED_MUL(a, b) ((fixed_t)(((long)(a) * (long)(b)) / FIXED_SCALE))
; #define FIXED_DIV(a, b) ((fixed_t)(((long)(a) * FIXED_SCALE) / (b)))
; 
; 
; sbit Wifi = P2 ^ 0;
; sbit Audio = P2 ^ 1;
; sbit laser = P1 ^ 3;
; sbit light = P1 ^ 7;
; 
; 
; 
; 
; /* 顶点结构体 */
; typedef struct Vertex
; {
;     fixed_t x;
;     fixed_t y;
;     fixed_t z;
; };
; 
; /* 边结构体 */
; typedef struct Edge
; {
;     int v1;
;     int v2;
; };
; 
; 
; /* 面结构体 */
; typedef struct Face
; {
;     int vertexCount;
;     int vertices[4];
;     uint8_t color;
; };
; 
; /* 正弦余弦查找表（0-359度，精度0.01弧度） */
; fixed_t sin_table[360];
; fixed_t cos_table[360];
; 
; /* 函数声明 */
; //void drawPixel(int x, int y, uint8_t r, uint8_t g, uint8_t b);
; void initTrigTables(void);
; fixed_t fixed_sin(int angle);
; fixed_t fixed_cos(int angle);
; void rotatePoint(int angleX, int angleY, int angleZ, fixed_t* x, fixed_t* y, fixed_t* z);
; void drawLine(int x1, int y1, int x2, int y2);
; void drawFace(struct Face face, struct Vertex* screenVertices);
; 
; #ifndef cube
; 
; #define VERTICE_COUNT 8
; #define EDGE_COUNT 12
; #define FACE_COUNT 6
; 
; struct Vertex ObjVertices[VERTICE_COUNT] = {
;     {INT_TO_FIXED(-30), INT_TO_FIXED(-30), INT_TO_FIXED(-30)},  
;     {INT_TO_FIXED( 30), INT_TO_FIXED(-30), INT_TO_FIXED(-30)},  
;     {INT_TO_FIXED( 30), INT_TO_FIXED( 30), INT_TO_FIXED(-30)},  
;     {INT_TO_FIXED(-30), INT_TO_FIXED( 30), INT_TO_FIXED(-30)},  
;     {INT_TO_FIXED(-30), INT_TO_FIXED(-30), INT_TO_FIXED( 30)}, 
;     {INT_TO_FIXED( 30), INT_TO_FIXED(-30), INT_TO_FIXED( 30)}, 
;     {INT_TO_FIXED( 30), INT_TO_FIXED( 30), INT_TO_FIXED( 30)},  
;     {INT_TO_FIXED(-30), INT_TO_FIXED( 30), INT_TO_FIXED( 30)}   
; };
; 
; 
; struct Edge ObjEdges[EDGE_COUNT] = {
;     {0, 1},  
;     {1, 2}, 
;     {2, 3}, 
;     {3, 0},  
;     {4, 5}, 
;     {5, 6}, 
;     {6, 7}, 
;     {7, 4},  
;     {0, 4}, 
;     {1, 5},  
;     {2, 6}, 
;     {3, 7} 
; };
; 
; // 立方体的6个面（包含颜色） *
; struct Face ObjFaces[FACE_COUNT] = {
;     {4, {0, 1, 2, 3}, 1},     
;     {4, {5, 4, 7, 6}, 4},     
;     {4, {4, 0, 3, 7}, 7},    
;     {4, {1, 5, 6, 2}, 11},  
;     {4, {3, 2, 6, 7}, 13},   
;     {4, {4, 5, 1, 0}, 15}    
; };
; 
; 
; 
; 
; #else
; #define VERTICE_COUNT 20    /* 4的倍数，保证每个面4顶点 */
; #define EDGE_COUNT 34       /* R标边数 */
; #define FACE_COUNT 17       /* R标面数（每个面4顶点） */
; 
; struct Vertex ObjVertices[VERTICE_COUNT] = {
;     /* 前面 - 分为四个矩形区域 */
;     /* 竖线矩形1 */
;     {INT_TO_FIXED(-35), INT_TO_FIXED(-40), INT_TO_FIXED(-10)},  /* 0: 左下外 */
;     {INT_TO_FIXED(-25), INT_TO_FIXED(-40), INT_TO_FIXED(-10)},  /* 1: 左下内 */
;     {INT_TO_FIXED(-25), INT_TO_FIXED( 20), INT_TO_FIXED(-10)},  /* 2: 左中内 */
;     {INT_TO_FIXED(-35), INT_TO_FIXED( 20), INT_TO_FIXED(-10)},  /* 3: 左中外 */
;     
;     /* 竖线矩形2 */
;     {INT_TO_FIXED(-35), INT_TO_FIXED( 20), INT_TO_FIXED(-10)},  /* 4: 左中外（与3相同） */
;     {INT_TO_FIXED(-25), INT_TO_FIXED( 20), INT_TO_FIXED(-10)},  /* 5: 左中内（与2相同） */
;     {INT_TO_FIXED(-25), INT_TO_FIXED( 40), INT_TO_FIXED(-10)},  /* 6: 左上内 */
;     {INT_TO_FIXED(-35), INT_TO_FIXED( 40), INT_TO_FIXED(-10)},  /* 7: 左上外 */
;     
;     /* 环形矩形 */
;     {INT_TO_FIXED(-25), INT_TO_FIXED( 20), INT_TO_FIXED(-10)},  /* 8: 左中（与2/5相同） */
;     {INT_TO_FIXED( 15), INT_TO_FIXED( 20), INT_TO_FIXED(-10)},  /* 9: 右下外 */
;     {INT_TO_FIXED( 15), INT_TO_FIXED( 40), INT_TO_FIXED(-10)},  /* 10: 右上外 */
;     {INT_TO_FIXED(-25), INT_TO_FIXED( 40), INT_TO_FIXED(-10)},  /* 11: 左上内（与6相同） */
;     
;     /* 斜线矩形（近似为平行四边形） */
;     {INT_TO_FIXED(-25), INT_TO_FIXED(  0), INT_TO_FIXED(-10)},  /* 12: 斜线起点上 */
;     {INT_TO_FIXED(-15), INT_TO_FIXED(-40), INT_TO_FIXED(-10)},  /* 13: 斜线左下 */
;     {INT_TO_FIXED( 25), INT_TO_FIXED(-40), INT_TO_FIXED(-10)},  /* 14: 斜线右下 */
;     {INT_TO_FIXED( 15), INT_TO_FIXED(  0), INT_TO_FIXED(-10)},  /* 15: 斜线起点右 */
;     
;     /* 背面对应点（每个矩形对应一个背面点） */
;     {INT_TO_FIXED(-35), INT_TO_FIXED(-40), INT_TO_FIXED(10)},   /* 16: 0的背面 */
;     {INT_TO_FIXED( 25), INT_TO_FIXED(-40), INT_TO_FIXED(10)},   /* 17: 14的背面 */
;     {INT_TO_FIXED(-35), INT_TO_FIXED( 40), INT_TO_FIXED(10)},   /* 18: 7的背面 */
;     {INT_TO_FIXED( 15), INT_TO_FIXED( 40), INT_TO_FIXED(10)},   /* 19: 10的背面 */
; };
; 
; struct Edge ObjEdges[EDGE_COUNT] = {
;     /* 前面矩形边 */
;     {0, 1}, {1, 2}, {2, 3}, {3, 0},   /* 矩形1 */
;     {4, 5}, {5, 6}, {6, 7}, {7, 4},   /* 矩形2 */
;     {8, 9}, {9, 10}, {10, 11}, {11, 8}, /* 矩形3 */
;     {12, 13}, {13, 14}, {14, 15}, {15, 12}, /* 矩形4 */
;     
;     /* 连接前面矩形的边（形成R形状） */
;     {2, 8},   /* 竖线连接环形 */
;     {6, 11},  /* 竖线上连接环形上 */
;     {9, 15},  /* 环形右连接斜线 */
;     
;     /* 连接前后面的垂直边 */
;     {0, 16},  /* 左下外 */
;     {14, 17}, /* 斜线右下 */
;     {7, 18},  /* 左上外 */
;     {10, 19}, /* 环形右上 */
;     
;     /* 背面矩形边 */
;     {16, 17}, /* 背面底部 */
;     {17, 19}, /* 背面右下到右上 */
;     {19, 18}, /* 背面上边 */
;     {18, 16}, /* 背面左边 */
;     
;     /* 额外的结构边 */
;     {13, 16}, /* 斜线左下到背面 */
;     {1, 16},  /* 左下内到背面 */
;     {6, 18},  /* 左上内到背面 */
;     {10, 19}, /* 环形右上到背面（重复但需要） */
; };
; 
; /* 所有面都是4顶点，保证共面 */
; struct Face ObjFaces[FACE_COUNT] = {
;     /* 前面4个矩形 */
;     {4, {0, 1, 2, 3}, 1},      /* 竖线下半部 */
;     {4, {4, 5, 6, 7}, 1},      /* 竖线上半部 */
;     {4, {8, 9, 10, 11}, 1},    /* 环形部分 */
;     {4, {12, 13, 14, 15}, 1},  /* 斜线部分 */
;     
;     /* 对应的背面4个矩形 */
;     {4, {16, 1, 2, 18}, 2},    /* 背面竖线下 */
;     {4, {16, 2, 6, 18}, 2},    /* 背面竖线上 */
;     {4, {18, 6, 10, 19}, 2},   /* 背面环形 */
;     {4, {16, 13, 14, 17}, 2},  /* 背面斜线 */
;     
;     /* 侧面（连接前后） */
;     {4, {0, 3, 7, 16}, 3},     /* 左侧面 */
;     {4, {3, 2, 6, 7}, 4},      /* 竖线前面中间（侧面效果） */
;     {4, {7, 6, 11, 10}, 5},    /* 上侧面 */
;     {4, {10, 9, 15, 19}, 6},   /* 右上侧面 */
;     {4, {9, 8, 12, 15}, 7},    /* 右下侧面 */
;     {4, {0, 1, 13, 16}, 8},    /* 左下侧面 */
;     {4, {1, 2, 8, 13}, 9},     /* 中间侧面 */
;     {4, {13, 8, 12, 13}, 10},  /* 斜线起点侧面 */
;     {4, {14, 15, 19, 17}, 11} /* 斜线终点侧面 */
; };
; #endif
; // 绘制单个像素 
; const int DITHER_MATRIX[4][4] = {
;     { 0,  8,  2, 10},
;     {12,  4, 14,  6},
;     { 3, 11,  1,  9},
;     {15,  7, 13,  5}
; };
; void drawDitherPixel(int x, int y, int gray)

	RSEG  ?PR?_drawDitherPixel?MAIN
_drawDitherPixel:
	USING	0
			; SOURCE LINE # 216
	MOV  	DPTR,#y?041
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
	MOV  	DPTR,#x?040
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
; {
			; SOURCE LINE # 217
;     if(x <=0 || x >=128 ||y <= 0||y >=64) return;
			; SOURCE LINE # 218
	SETB 	C
	SUBB 	A,#00H
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	$ + 5H
	LJMP 	?C0003
	MOV  	DPTR,#x?040
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	SUBB 	A,#080H
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0003
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	SUBB 	A,#00H
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,#080H
	JC   	?C0003
	MOV  	A,R5
	SUBB 	A,#040H
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0003
;     /* 抖动决策：如果灰度值大于阈值，则点亮像素 */
;     if (gray > DITHER_MATRIX[y % 4][x % 4])
			; SOURCE LINE # 220
	MOV  	R4,#00H
	MOV  	R5,#04H
	LCALL	?C?SIDIV
	MOV  	A,R5
	ADD  	A,ACC
	MOV  	R3,A
	MOV  	A,R4
	RLC  	A
	MOV  	R2,A
	MOV  	DPTR,#y?041
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#00H
	MOV  	R5,#04H
	LCALL	?C?SIDIV
	MOV  	R6,AR4
	MOV  	A,R5
	MOV  	R0,#03H
?C0104:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0104
	ADD  	A,#LOW (DITHER_MATRIX)
	MOV  	DPL,A
	MOV  	A,#HIGH (DITHER_MATRIX)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,DPL
	ADD  	A,R3
	MOV  	DPL,A
	MOV  	A,DPH
	ADDC 	A,R2
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	SETB 	C
	MOV  	DPTR,#gray?042+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#gray?042
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	?C0003
;         Graphic_DrawPoint(x, y, 1);
			; SOURCE LINE # 221
	MOV  	DPTR,#x?040
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	R3,#01H
	LCALL	_Graphic_DrawPoint
; }
			; SOURCE LINE # 222
?C0003:
	RET  	
; END OF _drawDitherPixel

; 
; /* 绘制直线 */
; void drawLine(int x1, int y1, int x2, int y2)

	RSEG  ?PR?_drawLine?MAIN
_drawLine:
	USING	0
			; SOURCE LINE # 225
	MOV  	DPTR,#x1?143
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
; {
			; SOURCE LINE # 226
;     int dx;
;     int dy;
;     int sx;
;     int sy;
;     int err;
;     int e2;
;     
;     dx = abs(x2 - x1);
			; SOURCE LINE # 234
	MOV  	DPTR,#x1?143
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	A,R3
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	A,R2
	SUBB 	A,R6
	MOV  	R6,A
	LCALL	_abs
	MOV  	DPTR,#dx?147
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     dy = abs(y2 - y1);
			; SOURCE LINE # 235
	MOV  	DPTR,#y1?144
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#y2?146+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	DPTR,#y2?146
	MOVX 	A,@DPTR
	SUBB 	A,R6
	MOV  	R6,A
	LCALL	_abs
	MOV  	DPTR,#dy?148
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     sx = (x1 < x2) ? 1 : -1;
			; SOURCE LINE # 237
	MOV  	DPTR,#x2?145
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#x1?143+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#x1?143
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	?C0005
	MOV  	R6,#00H
	MOV  	R7,#01H
	SJMP 	?C0006
?C0005:
	MOV  	R6,#0FFH
	MOV  	R7,#0FFH
?C0006:
	MOV  	DPTR,#sx?149
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     sy = (y1 < y2) ? 1 : -1;
			; SOURCE LINE # 238
	MOV  	DPTR,#y2?146
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#y1?144+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#y1?144
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	?C0007
	MOV  	R6,#00H
	MOV  	R7,#01H
	SJMP 	?C0008
?C0007:
	MOV  	R6,#0FFH
	MOV  	R7,#0FFH
?C0008:
	MOV  	DPTR,#sy?150
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     err = dx - dy;
			; SOURCE LINE # 240
	MOV  	DPTR,#dy?148
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#dx?147+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	DPTR,#dx?147
	MOVX 	A,@DPTR
	SUBB 	A,R6
	MOV  	DPTR,#err?151
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
?C0009:
;     
;     while (1)
			; SOURCE LINE # 242
;     {
			; SOURCE LINE # 243
;          Graphic_DrawPoint(x1, y1, 1);
			; SOURCE LINE # 244
	MOV  	DPTR,#x1?143
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	R3,#01H
	LCALL	_Graphic_DrawPoint
;         
;         if (x1 == x2 && y1 == y2)
			; SOURCE LINE # 246
	MOV  	DPTR,#x2?145
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#x1?143
	MOVX 	A,@DPTR
	CJNE 	A,AR6,?C0011
	INC  	DPTR
	MOVX 	A,@DPTR
	CJNE 	A,AR7,?C0011
	MOV  	DPTR,#y2?146
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#y1?144
	MOVX 	A,@DPTR
	XRL  	A,R6
	JNZ  	?C0106
	INC  	DPTR
	MOVX 	A,@DPTR
	XRL  	A,R7
?C0106:
	JNZ  	$ + 5H
	LJMP 	?C0014
;         {
			; SOURCE LINE # 247
;             break;
			; SOURCE LINE # 248
;         }
			; SOURCE LINE # 249
?C0011:
;         
;         e2 = 2 * err;
			; SOURCE LINE # 251
	MOV  	DPTR,#err?151+01H
	MOVX 	A,@DPTR
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	DPTR,#err?151
	MOVX 	A,@DPTR
	RLC  	A
	MOV  	R6,A
	MOV  	DPTR,#e2?152
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;         
;         if (e2 > -dy)
			; SOURCE LINE # 253
	MOV  	DPTR,#dy?148
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	C
	CLR  	A
	SUBB 	A,R5
	MOV  	R3,A
	CLR  	A
	SUBB 	A,R4
	MOV  	R2,A
	SETB 	C
	MOV  	A,R7
	SUBB 	A,R3
	MOV  	A,R2
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	?C0012
;         {
			; SOURCE LINE # 254
;             err -= dy;
			; SOURCE LINE # 255
	MOV  	DPTR,#err?151+01H
	MOVX 	A,@DPTR
	SUBB 	A,R5
	MOVX 	@DPTR,A
	MOV  	DPTR,#err?151
	MOVX 	A,@DPTR
	SUBB 	A,R4
	MOVX 	@DPTR,A
;             x1 += sx;
			; SOURCE LINE # 256
	MOV  	DPTR,#sx?149
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#x1?143+01H
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOVX 	@DPTR,A
	MOV  	DPTR,#x1?143
	MOVX 	A,@DPTR
	ADDC 	A,R6
	MOVX 	@DPTR,A
;         }
			; SOURCE LINE # 257
?C0012:
;         
;         if (e2 < dx)
			; SOURCE LINE # 259
	MOV  	DPTR,#dx?147
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#e2?152+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#e2?152
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0009
;         {
			; SOURCE LINE # 260
;             err += dx;
			; SOURCE LINE # 261
	MOV  	DPTR,#err?151+01H
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOVX 	@DPTR,A
	MOV  	DPTR,#err?151
	MOVX 	A,@DPTR
	ADDC 	A,R6
	MOVX 	@DPTR,A
;             y1 += sy;
			; SOURCE LINE # 262
	MOV  	DPTR,#sy?150
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#y1?144+01H
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOVX 	@DPTR,A
	MOV  	DPTR,#y1?144
	MOVX 	A,@DPTR
	ADDC 	A,R6
	MOVX 	@DPTR,A
;         }
			; SOURCE LINE # 263
;     }
			; SOURCE LINE # 264
	LJMP 	?C0009
; }
			; SOURCE LINE # 265
?C0014:
	RET  	
; END OF _drawLine

; 
; 
; void drawFace(struct Face face, struct Vertex* screenVertices)

	RSEG  ?PR?drawFace?MAIN
drawFace:
	USING	0
			; SOURCE LINE # 268
; {
			; SOURCE LINE # 269
;     short i;
;     short minY;
;     short maxY;
;     short x1, y1, x2, y2;
;     short x;
;     short t;
;     short intersections[4];
;     short intersectCount;
;     short j, k;
;     struct Vertex v1;
;     struct Vertex v2;
;     float a,b;
;     /* 计算面的边界 */
;     minY = LOGICAL_HEIGHT;
			; SOURCE LINE # 283
	MOV  	DPTR,#minY?261
	CLR  	A
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#040H
	MOVX 	@DPTR,A
;     maxY = 0;
			; SOURCE LINE # 284
	CLR  	A
	INC  	DPTR
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;     
;     for (i = 0; i < face.vertexCount; i++)
			; SOURCE LINE # 286
	MOV  	DPTR,#i?260
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0015:
	MOV  	DPTR,#face?253
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	C
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0016
;     {
			; SOURCE LINE # 287
;         short screenY = FIXED_TO_INT(screenVertices[face.vertices[i]].y);
			; SOURCE LINE # 288
	MOV  	A,R5
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R4
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (face?253+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (face?253+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#00H
	MOV  	R5,#06H
	LCALL	?C?IMUL
	MOV  	DPTR,#screenVertices?254
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOV  	R1,A
	MOV  	A,R2
	ADDC 	A,R6
	MOV  	R2,A
	MOV  	DPTR,#02H
	LCALL	?C?ILDOPTR
	MOV  	R7,A
	MOV  	R6,B
	INC  	R4
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	MOV  	DPTR,#screenY?255
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;         
;         if (screenY < minY) minY = screenY;
			; SOURCE LINE # 290
	SETB 	C
	MOV  	DPTR,#minY?261+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#minY?261
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	?C0018
	MOV  	DPTR,#screenY?255
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#minY?261
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
?C0018:
;         if (screenY > maxY) maxY = screenY;
			; SOURCE LINE # 291
	MOV  	DPTR,#maxY?262
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#screenY?255
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	SETB 	C
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	?C0017
	MOV  	DPTR,#maxY?262
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;     }
			; SOURCE LINE # 292
?C0017:
	MOV  	DPTR,#i?260+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JZ   	$ + 5H
	LJMP 	?C0015
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0107:
	LJMP 	?C0015
?C0016:
;     
;     if (minY < 0) minY = 0;
			; SOURCE LINE # 294
	CLR  	C
	MOV  	DPTR,#minY?261
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0020
	CLR  	A
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0020:
;     if (maxY >= LOGICAL_HEIGHT) maxY = LOGICAL_HEIGHT - 1;
			; SOURCE LINE # 295
	CLR  	C
	MOV  	DPTR,#maxY?262+01H
	MOVX 	A,@DPTR
	SUBB 	A,#040H
	MOV  	DPTR,#maxY?262
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,#080H
	JC   	?C0021
	CLR  	A
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#03FH
	MOVX 	@DPTR,A
?C0021:
;     
;     /* 对每条扫描线进行填充 */
;     for (i = minY; i <= maxY; i++)
			; SOURCE LINE # 298
	MOV  	DPTR,#minY?261
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#i?260
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
?C0022:
	MOV  	DPTR,#maxY?262
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	SETB 	C
	MOV  	DPTR,#i?260+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0049
;     {
			; SOURCE LINE # 299
;         intersectCount = 0;
			; SOURCE LINE # 300
	CLR  	A
	MOV  	DPTR,#intersectCount?270
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;         
;         /* 计算多边形与当前扫描线的交点 */
;         for (j = 0; j < face.vertexCount; j++)
			; SOURCE LINE # 303
	INC  	DPTR
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0025:
	MOV  	DPTR,#face?253
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#j?271+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0026
;         {
			; SOURCE LINE # 304
;             short nextJ = (j + 1) % face.vertexCount;
			; SOURCE LINE # 305
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	ADD  	A,#01H
	MOV  	R7,A
	CLR  	A
	ADDC 	A,R2
	MOV  	R6,A
	MOV  	DPTR,#face?253
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	LCALL	?C?SIDIV
	MOV  	DPTR,#nextJ?256
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;             v1 = screenVertices[face.vertices[j]];
			; SOURCE LINE # 306
	MOV  	A,R3
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R2
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (face?253+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (face?253+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#00H
	MOV  	R5,#06H
	LCALL	?C?IMUL
	MOV  	DPTR,#screenVertices?254
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOV  	R1,A
	MOV  	A,R2
	ADDC 	A,R6
	MOV  	R2,A
	MOV  	R0,#LOW (v1?273)
	MOV  	R4,#HIGH (v1?273)
	MOV  	R5,#01H
	MOV  	R6,#00H
	MOV  	R7,#06H
	LCALL	?C?COPY
;             v2 = screenVertices[face.vertices[nextJ]];
			; SOURCE LINE # 307
	MOV  	DPTR,#nextJ?256+01H
	MOVX 	A,@DPTR
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	DPTR,#nextJ?256
	MOVX 	A,@DPTR
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (face?253+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (face?253+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#00H
	MOV  	R5,#06H
	LCALL	?C?IMUL
	MOV  	DPTR,#screenVertices?254
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOV  	R1,A
	MOV  	A,R2
	ADDC 	A,R6
	MOV  	R2,A
	MOV  	R0,#LOW (v2?274)
	MOV  	R4,#HIGH (v2?274)
	MOV  	R5,#01H
	MOV  	R6,#00H
	MOV  	R7,#06H
	LCALL	?C?COPY
;             
;             x1 = FIXED_TO_INT(v1.x);
			; SOURCE LINE # 309
	MOV  	DPTR,#v1?273
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	MOV  	DPTR,#x1?263
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             y1 = FIXED_TO_INT(v1.y);
			; SOURCE LINE # 310
	MOV  	DPTR,#v1?273+02H
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	MOV  	DPTR,#y1?264
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             x2 = FIXED_TO_INT(v2.x);
			; SOURCE LINE # 311
	MOV  	DPTR,#v2?274
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
;---- Variable 'x2?265' assigned to Register 'R2/R3' ----
	MOV  	R3,AR7
	MOV  	R2,AR6
;             y2 = FIXED_TO_INT(v2.y);
			; SOURCE LINE # 312
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	MOV  	DPTR,#y2?266
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             
;             /* 检查线段是否与扫描线相交 */
;             if ((y1 <= i && y2 > i) || (y2 <= i && y1 > i))
			; SOURCE LINE # 315
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	SETB 	C
	MOV  	DPTR,#y1?264+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#y1?264
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	?C0030
	MOV  	DPTR,#y2?266+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#y2?266
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	?C0029
?C0030:
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	SETB 	C
	MOV  	DPTR,#y2?266+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#y2?266
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0027
	MOV  	DPTR,#y1?264+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#y1?264
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	$ + 5H
	LJMP 	?C0027
?C0029:
;             {
			; SOURCE LINE # 316
;                 /* 计算交点x坐标 */
;                 if (y2 != y1)
			; SOURCE LINE # 318
	MOV  	DPTR,#y1?264
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XRL  	A,R6
	JNZ  	?C0108
	INC  	DPTR
	MOVX 	A,@DPTR
	XRL  	A,R7
?C0108:
	JNZ  	$ + 5H
	LJMP 	?C0027
;                 {
			; SOURCE LINE # 319
;                     t = ((i - y1) * (x2 - x1)) / (y2 - y1);
			; SOURCE LINE # 320
	MOV  	DPTR,#x1?263
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	A,R3
	SUBB 	A,R7
	MOV  	R5,A
	MOV  	A,R2
	SUBB 	A,R6
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#i?260+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	SUBB 	A,R6
	MOV  	R6,A
	LCALL	?C?IMUL
	MOV  	DPTR,#y1?264
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	C
	MOV  	DPTR,#y2?266+01H
	MOVX 	A,@DPTR
	SUBB 	A,R5
	MOV  	R5,A
	MOV  	DPTR,#y2?266
	MOVX 	A,@DPTR
	SUBB 	A,R4
	MOV  	R4,A
	LCALL	?C?SIDIV
;---- Variable 't?268' assigned to Register 'R6/R7' ----
;                     x = x1 + t;
			; SOURCE LINE # 321
	MOV  	DPTR,#x1?263+01H
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOV  	R7,A
	MOV  	DPTR,#x1?263
	MOVX 	A,@DPTR
	ADDC 	A,R6
	MOV  	DPTR,#x?267
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;                     
;                     if (intersectCount < 4)
			; SOURCE LINE # 323
	MOV  	DPTR,#intersectCount?270
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	SUBB 	A,#04H
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0027
;                     {
			; SOURCE LINE # 324
;                         intersections[intersectCount] = x;
			; SOURCE LINE # 325
	MOV  	DPTR,#x?267
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	A,R7
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (intersections?269)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;                         intersectCount++;
			; SOURCE LINE # 326
	MOV  	DPTR,#intersectCount?270+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0109
	MOV  	DPTR,#intersectCount?270
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0109:
;                     }
			; SOURCE LINE # 327
;                 }
			; SOURCE LINE # 328
;             }
			; SOURCE LINE # 329
;         }
			; SOURCE LINE # 330
?C0027:
	MOV  	DPTR,#j?271+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0110
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0110:
	LJMP 	?C0025
?C0026:
;         
;         /* 对交点进行排序 */
;         for (j = 0; j < intersectCount - 1; j++)
			; SOURCE LINE # 333
	CLR  	A
	MOV  	DPTR,#j?271
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0033:
	MOV  	DPTR,#intersectCount?270+01H
	MOVX 	A,@DPTR
	ADD  	A,#0FFH
	MOV  	R7,A
	MOV  	DPTR,#intersectCount?270
	MOVX 	A,@DPTR
	ADDC 	A,#0FFH
	MOV  	R6,A
	CLR  	C
	MOV  	DPTR,#j?271+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0034
;         {
			; SOURCE LINE # 334
;             for (k = 0; k < intersectCount - j - 1; k++)
			; SOURCE LINE # 335
;---- Variable 'k?272' assigned to Register 'R4/R5' ----
	CLR  	A
	MOV  	R5,A
	MOV  	R4,A
?C0036:
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	DPTR,#intersectCount?270+01H
	MOVX 	A,@DPTR
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	DPTR,#intersectCount?270
	MOVX 	A,@DPTR
	SUBB 	A,R6
	XCH  	A,R7
	ADD  	A,#0FFH
	XCH  	A,R7
	ADDC 	A,#0FFH
	MOV  	R6,A
	CLR  	C
	MOV  	A,R5
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0035
;             {
			; SOURCE LINE # 336
;                 if (intersections[k] > intersections[k + 1])
			; SOURCE LINE # 337
	MOV  	A,R5
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R4
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (intersections?269+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	A,#LOW (intersections?269)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	SETB 	C
	SUBB 	A,R3
	MOV  	A,R2
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	?C0038
;                 {
			; SOURCE LINE # 338
;                     short temp = intersections[k];
			; SOURCE LINE # 339
	MOV  	A,R5
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R4
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (intersections?269)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#temp?257
	XCH  	A,R3
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
;                     intersections[k] = intersections[k + 1];
			; SOURCE LINE # 340
	MOV  	A,#LOW (intersections?269+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	A,R5
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R4
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (intersections?269)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
;                     intersections[k + 1] = temp;
			; SOURCE LINE # 341
	MOV  	DPTR,#temp?257
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	A,#LOW (intersections?269+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
;                 }
			; SOURCE LINE # 342
;             }
			; SOURCE LINE # 343
?C0038:
	INC  	R5
	CJNE 	R5,#00H,?C0111
	INC  	R4
?C0111:
	LJMP 	?C0036
;         }
			; SOURCE LINE # 344
?C0035:
	MOV  	DPTR,#j?271+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0112
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0112:
	LJMP 	?C0033
?C0034:
;         
;         /* 在交点之间绘制水平线 */
;         for (j = 0; j < intersectCount; j += 2)
			; SOURCE LINE # 347
	CLR  	A
	MOV  	DPTR,#j?271
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0040:
	MOV  	DPTR,#intersectCount?270
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	C
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0024
;         {
			; SOURCE LINE # 348
;             if (j + 1 < intersectCount)
			; SOURCE LINE # 349
	MOV  	A,R5
	ADD  	A,#01H
	MOV  	R5,A
	CLR  	A
	ADDC 	A,R4
	MOV  	R4,A
	SETB 	C
	MOV  	A,R7
	SUBB 	A,R5
	MOV  	A,R4
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	$ + 5H
	LJMP 	?C0042
;             {
			; SOURCE LINE # 350
;                 short startX = intersections[j];
			; SOURCE LINE # 351
	MOVX 	A,@DPTR
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (intersections?269)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	DPTR,#startX?258
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;                 short endX = intersections[j + 1];
			; SOURCE LINE # 352
	MOV  	A,#LOW (intersections?269+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (intersections?269+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#endX?259
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;                 
;                 if (startX < 0) startX = 0;
			; SOURCE LINE # 354
	CLR  	C
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0044
	CLR  	A
	MOV  	DPTR,#startX?258
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0044:
;                 if (endX >= LOGICAL_WIDTH) endX = LOGICAL_WIDTH - 1;
			; SOURCE LINE # 355
	CLR  	C
	MOV  	DPTR,#endX?259+01H
	MOVX 	A,@DPTR
	SUBB 	A,#080H
	MOV  	DPTR,#endX?259
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,#080H
	JC   	?C0045
	CLR  	A
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#07FH
	MOVX 	@DPTR,A
?C0045:
;                 
;                 for (x = startX; x <= endX; x++)
			; SOURCE LINE # 357
	MOV  	DPTR,#startX?258
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#x?267
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
?C0046:
	MOV  	DPTR,#endX?259
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	DPTR,#x?267
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	SETB 	C
	SUBB 	A,R5
	MOV  	A,R4
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	?C0042
;                 {
			; SOURCE LINE # 358
;                     drawDitherPixel(x, i, face.color);
			; SOURCE LINE # 359
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	DPTR,#face?253+0AH
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,#00H
	LCALL	_drawDitherPixel
;                 }
			; SOURCE LINE # 360
	MOV  	DPTR,#x?267+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0046
	MOV  	DPTR,#x?267
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0113:
	SJMP 	?C0046
;             }
			; SOURCE LINE # 361
;         }
			; SOURCE LINE # 362
?C0042:
	MOV  	DPTR,#j?271+01H
	MOVX 	A,@DPTR
	ADD  	A,#02H
	MOVX 	@DPTR,A
	MOV  	DPTR,#j?271
	MOVX 	A,@DPTR
	ADDC 	A,#00H
	MOVX 	@DPTR,A
	LJMP 	?C0040
;     }
			; SOURCE LINE # 363
?C0024:
	MOV  	DPTR,#i?260+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0114
	MOV  	DPTR,#i?260
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0114:
	LJMP 	?C0022
; }
			; SOURCE LINE # 364
?C0049:
	RET  	
; END OF drawFace

; 
; /* 初始化三角函数查找表 */
; void initTrigTables(void)

	RSEG  ?PR?initTrigTables?MAIN
initTrigTables:
	USING	0
			; SOURCE LINE # 367
; {
			; SOURCE LINE # 368
;     int i;
;     double angle;
;     
;     for (i = 0; i < 360; i++)
			; SOURCE LINE # 372
	CLR  	A
	MOV  	DPTR,#i?377
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0050:
	MOV  	DPTR,#i?377
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	C
	SUBB 	A,#068H
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,#081H
	JC   	$ + 5H
	LJMP 	?C0053
;     {
			; SOURCE LINE # 373
;         angle = i * 3.1415926535 / 180.0;  /* 转换为弧度 */
			; SOURCE LINE # 374
	MOV  	A,R4
	LCALL	?C?FCASTI
	MOV  	R3,#0DBH
	MOV  	R2,#0FH
	MOV  	R1,#049H
	MOV  	R0,#040H
	LCALL	?C?FPMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,A
	MOV  	R1,#034H
	MOV  	R0,#043H
	LCALL	?C?FPDIV
	MOV  	DPTR,#angle?378
	LCALL	?C?LSTXDATA
;         sin_table[i] = INT_TO_FIXED(sin(angle));
			; SOURCE LINE # 375
	MOV  	DPTR,#angle?378
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	LCALL	_sin
	CLR  	A
	MOV  	R3,A
	MOV  	R2,A
	MOV  	R1,#080H
	MOV  	R0,#043H
	LCALL	?C?FPMUL
	LCALL	?C?CASTF
	MOV  	R5,AR7
	MOV  	R4,AR6
	MOV  	DPTR,#i?377+01H
	MOVX 	A,@DPTR
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	DPTR,#i?377
	MOVX 	A,@DPTR
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (sin_table)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (sin_table)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;         cos_table[i] = INT_TO_FIXED(cos(angle));
			; SOURCE LINE # 376
	MOV  	DPTR,#angle?378
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	LCALL	_cos
	CLR  	A
	MOV  	R3,A
	MOV  	R2,A
	MOV  	R1,#080H
	MOV  	R0,#043H
	LCALL	?C?FPMUL
	LCALL	?C?CASTF
	MOV  	R5,AR7
	MOV  	R4,AR6
	MOV  	DPTR,#i?377+01H
	MOVX 	A,@DPTR
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	DPTR,#i?377
	MOVX 	A,@DPTR
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (cos_table)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (cos_table)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;     }
			; SOURCE LINE # 377
	MOV  	DPTR,#i?377+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JZ   	$ + 5H
	LJMP 	?C0050
	MOV  	DPTR,#i?377
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0115:
	LJMP 	?C0050
; }
			; SOURCE LINE # 378
?C0053:
	RET  	
; END OF initTrigTables

; 
; /* 定点数正弦函数 */
; fixed_t fixed_sin(int angle)

	RSEG  ?PR?_fixed_sin?MAIN
L?0134:
	USING	0
L?0135:
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
_fixed_sin:
	USING	0
			; SOURCE LINE # 381
;---- Variable 'angle?479' assigned to Register 'R6/R7' ----
; {
			; SOURCE LINE # 382
?C0054:
;     while (angle < 0) angle += 360;
			; SOURCE LINE # 383
	CLR  	C
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0056
	MOV  	A,#068H
	ADD  	A,R7
	MOV  	R7,A
	MOV  	A,#01H
	ADDC 	A,R6
	MOV  	R6,A
	SJMP 	?C0054
?C0056:
;     while (angle >= 360) angle -= 360;
			; SOURCE LINE # 384
	CLR  	C
	MOV  	A,R7
	SUBB 	A,#068H
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#081H
	JC   	?C0057
	MOV  	A,#098H
	ADD  	A,R7
	MOV  	R7,A
	MOV  	A,#0FEH
	ADDC 	A,R6
	MOV  	R6,A
	SJMP 	?C0056
?C0057:
;     return sin_table[angle];
			; SOURCE LINE # 385
	MOV  	A,R7
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (sin_table)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (sin_table)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
; }
			; SOURCE LINE # 386
	RET  	
; END OF _fixed_sin

; 
; /* 定点数余弦函数 */
; fixed_t fixed_cos(int angle)

	RSEG  ?PR?_fixed_cos?MAIN
L?0136:
	USING	0
L?0137:
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
_fixed_cos:
	USING	0
			; SOURCE LINE # 389
;---- Variable 'angle?580' assigned to Register 'R6/R7' ----
; {
			; SOURCE LINE # 390
?C0059:
;     while (angle < 0) angle += 360;
			; SOURCE LINE # 391
	CLR  	C
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0061
	MOV  	A,#068H
	ADD  	A,R7
	MOV  	R7,A
	MOV  	A,#01H
	ADDC 	A,R6
	MOV  	R6,A
	SJMP 	?C0059
?C0061:
;     while (angle >= 360) angle -= 360;
			; SOURCE LINE # 392
	CLR  	C
	MOV  	A,R7
	SUBB 	A,#068H
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#081H
	JC   	?C0062
	MOV  	A,#098H
	ADD  	A,R7
	MOV  	R7,A
	MOV  	A,#0FEH
	ADDC 	A,R6
	MOV  	R6,A
	SJMP 	?C0061
?C0062:
;     return cos_table[angle];
			; SOURCE LINE # 393
	MOV  	A,R7
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (cos_table)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (cos_table)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
; }
			; SOURCE LINE # 394
	RET  	
; END OF _fixed_cos

; 
; /* 定点数旋转矩阵函数 */
; void rotatePoint(int angleX, int angleY, int angleZ, fixed_t* x, fixed_t* y, fixed_t* z)

	RSEG  ?PR?_rotatePoint?MAIN
_rotatePoint:
	USING	0
			; SOURCE LINE # 397
	MOV  	DPTR,#angleX?681
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
; {
			; SOURCE LINE # 398
;     fixed_t tempX;
;     fixed_t tempY;
;     fixed_t tempZ;
;     fixed_t sinX, cosX;
;     fixed_t sinY, cosY;
;     fixed_t sinZ, cosZ;
;     
;     /* 保存原始坐标 */
;     tempX = *x;
			; SOURCE LINE # 407
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempX?687
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     tempY = *y;
			; SOURCE LINE # 408
	MOV  	DPTR,#y?685
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempY?688
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     tempZ = *z;
			; SOURCE LINE # 409
	MOV  	DPTR,#z?686
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempZ?689
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     /* 绕X轴旋转 */
;     sinX = fixed_sin(angleX);
			; SOURCE LINE # 412
	MOV  	DPTR,#angleX?681
	LCALL	L?0134
	MOV  	DPTR,#sinX?690
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     cosX = fixed_cos(angleX);
			; SOURCE LINE # 413
	MOV  	DPTR,#angleX?681
	LCALL	L?0136
	MOV  	DPTR,#cosX?691
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     *y = FIXED_MUL(tempY, cosX) - FIXED_MUL(tempZ, sinX);
			; SOURCE LINE # 415
	MOV  	DPTR,#sinX?690
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempZ?689
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#cosX?691
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempY?688
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	MOV  	R5,AR7
	MOV  	R4,AR6
	POP  	AR7
	POP  	AR6
	CLR  	C
	MOV  	A,R5
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	A,R4
	SUBB 	A,R6
	MOV  	R1,A
	MOV  	DPTR,#y?685
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XCH  	A,R1
	MOV  	B,R7
	LCALL	?C?ISTPTR
;     *z = FIXED_MUL(tempY, sinX) + FIXED_MUL(tempZ, cosX);
			; SOURCE LINE # 416
	MOV  	DPTR,#cosX?691
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempZ?689
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#sinX?690
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempY?688
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	POP  	ACC
	ADD  	A,R7
	MOV  	R7,A
	POP  	ACC
	ADDC 	A,R6
	MOV  	R1,A
	MOV  	DPTR,#z?686
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XCH  	A,R1
	MOV  	B,R7
	LCALL	?C?ISTPTR
;     
;     tempY = *y;
			; SOURCE LINE # 418
	MOV  	DPTR,#y?685
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempY?688
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     tempZ = *z;
			; SOURCE LINE # 419
	MOV  	DPTR,#z?686
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempZ?689
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     /* 绕Y轴旋转 */
;     sinY = fixed_sin(angleY);
			; SOURCE LINE # 422
	MOV  	DPTR,#angleY?682
	LCALL	L?0134
	MOV  	DPTR,#sinY?692
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     cosY = fixed_cos(angleY);
			; SOURCE LINE # 423
	MOV  	DPTR,#angleY?682
	LCALL	L?0136
	MOV  	DPTR,#cosY?693
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     *x = FIXED_MUL(tempX, cosY) + FIXED_MUL(tempZ, sinY);
			; SOURCE LINE # 425
	MOV  	DPTR,#sinY?692
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempZ?689
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#cosY?693
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempX?687
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	POP  	ACC
	ADD  	A,R7
	MOV  	R7,A
	POP  	ACC
	ADDC 	A,R6
	MOV  	R1,A
	MOV  	DPTR,#x?684
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XCH  	A,R1
	MOV  	B,R7
	LCALL	?C?ISTPTR
;     *z = -FIXED_MUL(tempX, sinY) + FIXED_MUL(tempZ, cosY);
			; SOURCE LINE # 426
	MOV  	DPTR,#sinY?692
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempX?687
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	CLR  	C
	CLR  	A
	SUBB 	A,R7
	MOV  	R7,A
	CLR  	A
	SUBB 	A,R6
	MOV  	R6,A
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#cosY?693
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempZ?689
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	POP  	ACC
	ADD  	A,R7
	MOV  	R7,A
	POP  	ACC
	ADDC 	A,R6
	MOV  	R1,A
	MOV  	DPTR,#z?686
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XCH  	A,R1
	MOV  	B,R7
	LCALL	?C?ISTPTR
;     
;     tempX = *x;
			; SOURCE LINE # 428
	MOV  	DPTR,#x?684
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempX?687
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     tempZ = *z;
			; SOURCE LINE # 429
	MOV  	DPTR,#z?686
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	LCALL	?C?ILDPTR
	MOV  	R7,A
	MOV  	DPTR,#tempZ?689
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     /* 绕Z轴旋转 */
;     sinZ = fixed_sin(angleZ);
			; SOURCE LINE # 432
	MOV  	DPTR,#angleZ?683
	LCALL	L?0135
	MOV  	DPTR,#sinZ?694
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     cosZ = fixed_cos(angleZ);
			; SOURCE LINE # 433
	MOV  	DPTR,#angleZ?683
	LCALL	L?0137
	MOV  	DPTR,#cosZ?695
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
;     *x = FIXED_MUL(tempX, cosZ) - FIXED_MUL(tempY, sinZ);
			; SOURCE LINE # 435
	MOV  	DPTR,#sinZ?694
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempY?688
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#cosZ?695
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempX?687
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	MOV  	R5,AR7
	MOV  	R4,AR6
	POP  	AR7
	POP  	AR6
	CLR  	C
	MOV  	A,R5
	SUBB 	A,R7
	MOV  	R7,A
	MOV  	A,R4
	SUBB 	A,R6
	MOV  	R1,A
	MOV  	DPTR,#x?684
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XCH  	A,R1
	MOV  	B,R7
	LCALL	?C?ISTPTR
;     *y = FIXED_MUL(tempX, sinZ) + FIXED_MUL(tempY, cosZ);
			; SOURCE LINE # 436
	MOV  	DPTR,#cosZ?695
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempY?688
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#sinZ?694
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	MOV  	A,R2
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	MOV  	DPTR,#tempX?687
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	SUBB 	A,ACC
	MOV  	R5,A
	MOV  	R4,A
	LCALL	?C?LMUL
	CLR  	A
	MOV  	R3,A
	MOV  	R2,#01H
	MOV  	R1,A
	MOV  	R0,A
	LCALL	?C?SLDIV
	POP  	ACC
	ADD  	A,R7
	MOV  	R7,A
	POP  	ACC
	ADDC 	A,R6
	MOV  	R1,A
	MOV  	DPTR,#y?685
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	XCH  	A,R1
	MOV  	B,R7
	LJMP 	?C?ISTPTR
; END OF _rotatePoint

; }
; 
; int t = 0, i = 0,j = 0, k = 0;
; uint32_t ms =0,time_used,ta1,tb1;
; 
; uint8_t duration;
; uint8_t flag = 0;
; void PWM_config(void)

	RSEG  ?PR?PWM_config?MAIN
PWM_config:
	USING	0
			; SOURCE LINE # 444
; {
			; SOURCE LINE # 445
; 	P_SW2 |= 0x80;		//SFR enable   
			; SOURCE LINE # 446
	ORL  	P_SW2,#080H
; 	PWMB_PSCR = 0x0000;	// 预分频寄存器, 分频 Fck_cnt = Fck_psc/(PSCR[15:0}+1), 边沿对齐PWM频率 = SYSclk/((PSCR+1)*(AAR+1)), 中央对齐PWM频率 = SYSclk/((PSCR+1)*(AAR+1)*2).
			; SOURCE LINE # 447
	MOV  	DPTR,#0FEF0H
	CLR  	A
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
; 	PWMB_DTR  = 00;		// 死区时间配置,   n=0~127: DTR= n T,   0x80 ~(0x80+n), n=0~63: DTR=(64+n)*2T,  
			; SOURCE LINE # 448
	MOV  	DPTR,#0FEFEH
	MOVX 	@DPTR,A
; 						// 对PWMB没有意义  0xc0 ~(0xc0+n), n=0~31: DTR=(32+n)*8T,   0xE0 ~(0xE0+n), n=0~31: DTR=(32+n)*16T,
; 	PWMB_ARR = 256 * 8;		// 自动重装载寄存器, 控制PWM周期
			; SOURCE LINE # 450
	MOV  	DPTR,#0FEF2H
	MOV  	A,#08H
	MOVX 	@DPTR,A
	INC  	DPTR
	CLR  	A
	MOVX 	@DPTR,A
; 
; 	PWMB_CCMR2 = 0x68;	// 通道模式配置, PWM模式1, 预装载允许
			; SOURCE LINE # 452
	MOV  	DPTR,#0FEE9H
	MOV  	A,#068H
	MOVX 	@DPTR,A
; 	PWMB_CCR2L = 0;	
			; SOURCE LINE # 453
	MOV  	DPTR,#0FEF8H
	CLR  	A
	MOVX 	@DPTR,A
; 	PWMB_CCER1 = 0x10;	// 配置通道输出使能和极性 PWM6 PWM5
			; SOURCE LINE # 454
	MOV  	DPTR,#0FEECH
	MOV  	A,#010H
	MOVX 	@DPTR,A
;     
; 	PWMB_BKR = 0x80;	// 主输出使能 相当于总开关
			; SOURCE LINE # 456
	MOV  	DPTR,#0FEFDH
	MOV  	A,#080H
	MOVX 	@DPTR,A
; 	PWMB_IER = 0x00;	// 使能中断
			; SOURCE LINE # 457
	MOV  	DPTR,#0FEE4H
	CLR  	A
	MOVX 	@DPTR,A
; 	PWMB_CR1 = 0x81;	// 使能计数器, 允许自动重装载寄存器缓冲, 边沿对齐模式, 向上计数, bit7=1:写自动重装载寄存器缓冲(本周期不会被打扰), =0:直接写自动重装载寄存器
			; SOURCE LINE # 458
	MOV  	DPTR,#0FEE0H
	MOV  	A,#081H
	MOVX 	@DPTR,A
; 	
; 
; 	PWMB_ENO  = 0x04;	//IO输出PWM允许, bit6: ENO8P,  bit4: ENO7P,  bit2: ENO6P,  bit0: ENO5P
			; SOURCE LINE # 461
	MOV  	DPTR,#0FEB5H
	MOV  	A,#04H
	MOVX 	@DPTR,A
; 	PWMB_PS   = 0x04;	//选择IO, 4项从高到低(从左到右)对应PWM8 PWM7 PWM6 PWM5  
			; SOURCE LINE # 462
	INC  	DPTR
	MOVX 	@DPTR,A
; }
			; SOURCE LINE # 463
	RET  	
; END OF PWM_config

; #define TONES_END 0x8000
; uint16_t   sound[] = {
; 	0x0151,0x0007,0x0000,0x0015,0x018d,0x0007,0x0000,0x0007,0x014b,0x0007,0x0136,0x0007,0x0146,0x0007,0x0169,0x0007,0x019e,0x0007,0x007f,0x0007,0x0185,
; 	0x0007,0x0228,0x0007,0x026d,0x0007,0x02fc,0x0007,0x02e0,0x0007,0x01fd,0x0007,0x0219,0x0007,0x033c,0x0007,0x00e7,0x0007,0x0281,0x0007,0x026d,
; 	0x000e,0x052d,0x000e,0x04da,0x000e,0x011c,0x0007,0x0387,0x0007,0x0360,0x0007,0x033c,0x0007,0x0387,0x0007,0x02ad,0x000e,0x02c6,0x0007,0x010c,
; 	0x000e,0x02e0,0x0007,0x02c6,0x0007,0x0296,0x000e,0x0281,0x0007,0x02ad,0x0007,0x02c6,0x0007,0x02e0,0x0007,0x00e1,0x0007,0x031b,0x0007,0x0248,
; 	0x0007,0x0219,0x0007,0x01f1,0x0007,0x01d9,0x000e,0x01f1,0x0007,0x020b,0x0007,0x02ad,0x0007,0x00d1,0x0007,0x0248,0x0007,0x0238,0x0007,0x0219,
; 	0x0007,0x0228,0x000e,0x020b,0x0007,0x01e5,0x0007,0x01d9,0x0007, TONES_END
; };
; uint16_t *sound_array;
; int now_freq  = 30;
; int now_dura  = 30 ;
; uint8_t status = 0,ptr = 0;
; void Tones(uint16_t *s){

	RSEG  ?PR?_Tones?MAIN
_Tones:
	USING	0
			; SOURCE LINE # 477
;---- Variable 's?896' assigned to Register 'R1/R2/R3' ----
;     sound_array = s;
			; SOURCE LINE # 478
	MOV  	DPTR,#sound_array
	MOV  	A,R3
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R1
	MOVX 	@DPTR,A
;     ptr = 0;
			; SOURCE LINE # 479
	CLR  	A
	MOV  	DPTR,#ptr
	MOVX 	@DPTR,A
;     status = 1;
			; SOURCE LINE # 480
	MOV  	DPTR,#status
	INC  	A
	MOVX 	@DPTR,A
;     now_freq = 0;
			; SOURCE LINE # 481
	CLR  	A
	MOV  	DPTR,#now_freq
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;     now_dura = 0;
			; SOURCE LINE # 482
	MOV  	DPTR,#now_dura
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;    // ptr +=2;
; }
			; SOURCE LINE # 484
	RET  	
; END OF _Tones

; void Beep(uint16_t f,uint16_t du){

	RSEG  ?PR?_Beep?MAIN
_Beep:
	USING	0
			; SOURCE LINE # 485
	MOV  	DPTR,#f?997
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;---- Variable 'du?998' assigned to Register 'R4/R5' ----
;     flag = 1;
			; SOURCE LINE # 486
	MOV  	DPTR,#flag
	MOV  	A,#01H
	MOVX 	@DPTR,A
;     duration = du;
			; SOURCE LINE # 487
	MOV  	DPTR,#duration
	MOV  	A,R5
	MOVX 	@DPTR,A
;     PWMB_PSCR = Main_Fosc/PWMB_ARR/(f+ 1) ;
			; SOURCE LINE # 488
	MOV  	DPTR,#0FEF2H
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	CLR  	A
	MOV  	R1,A
	MOV  	R0,A
	MOV  	R7,A
	MOV  	R6,#05AH
	MOV  	R5,#062H
	MOV  	R4,#02H
	LCALL	?C?ULDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#f?997+01H
	MOVX 	A,@DPTR
	ADD  	A,#01H
	MOV  	R7,A
	MOV  	DPTR,#f?997
	MOVX 	A,@DPTR
	ADDC 	A,#00H
	MOV  	R3,AR7
	MOV  	R2,A
	CLR  	A
	MOV  	R1,A
	MOV  	R0,A
	POP  	AR7
	POP  	AR6
	LCALL	?C?ULDIV
	MOV  	DPTR,#0FEF0H
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     
; }
			; SOURCE LINE # 490
	RET  	
; END OF _Beep

; void Buzzer_Poll(){

	RSEG  ?PR?Buzzer_Poll?MAIN
Buzzer_Poll:
	USING	0
			; SOURCE LINE # 491
;     if(status){
			; SOURCE LINE # 492
	MOV  	DPTR,#status
	MOVX 	A,@DPTR
	JNZ  	$ + 5H
	LJMP 	?C0071
;         if(now_freq == TONES_END || now_dura==TONES_END){
			; SOURCE LINE # 493
	MOV  	DPTR,#now_freq
	MOVX 	A,@DPTR
	XRL  	A,#080H
	JNZ  	?C0116
	INC  	DPTR
	MOVX 	A,@DPTR
?C0116:
	JZ   	?C0070
	MOV  	DPTR,#now_dura
	MOVX 	A,@DPTR
	CJNE 	A,#080H,?C0069
	INC  	DPTR
	MOVX 	A,@DPTR
	CJNE 	A,#00H,?C0069
?C0070:
;             status = 0;
			; SOURCE LINE # 494
	CLR  	A
	MOV  	DPTR,#status
	MOVX 	@DPTR,A
;             ptr = 0;
			; SOURCE LINE # 495
	MOV  	DPTR,#ptr
	MOVX 	@DPTR,A
;             now_dura = 0;
			; SOURCE LINE # 496
	MOV  	DPTR,#now_dura
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;             PWMB_CCR2L = 0;
			; SOURCE LINE # 497
	MOV  	DPTR,#0FEF8H
	MOVX 	@DPTR,A
	RET  	
;             return;
;         }else{
			; SOURCE LINE # 499
?C0069:
;             PWMB_CCR2L = 32;
			; SOURCE LINE # 500
	MOV  	DPTR,#0FEF8H
	MOV  	A,#020H
	MOVX 	@DPTR,A
;             PWMB_PSCR = Main_Fosc/PWMB_ARR/(now_freq+ 1) ;
			; SOURCE LINE # 501
	MOV  	DPTR,#0FEF2H
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	CLR  	A
	MOV  	R1,A
	MOV  	R0,A
	MOV  	R7,A
	MOV  	R6,#05AH
	MOV  	R5,#062H
	MOV  	R4,#02H
	LCALL	?C?ULDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#now_freq+01H
	MOVX 	A,@DPTR
	ADD  	A,#01H
	MOV  	R7,A
	MOV  	DPTR,#now_freq
	MOVX 	A,@DPTR
	ADDC 	A,#00H
	MOV  	R3,AR7
	MOV  	R2,A
	RLC  	A
	SUBB 	A,ACC
	MOV  	R1,A
	MOV  	R0,A
	POP  	AR7
	POP  	AR6
	LCALL	?C?ULDIV
	MOV  	DPTR,#0FEF0H
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             if(now_dura > 0){
			; SOURCE LINE # 502
	SETB 	C
	MOV  	DPTR,#now_dura+01H
	MOVX 	A,@DPTR
	SUBB 	A,#00H
	MOV  	DPTR,#now_dura
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,#080H
	JC   	?C0073
;                 now_dura--;
			; SOURCE LINE # 503
	INC  	DPTR
	MOVX 	A,@DPTR
	ADD  	A,#0FFH
	MOVX 	@DPTR,A
	MOV  	DPTR,#now_dura
	MOVX 	A,@DPTR
	ADDC 	A,#0FFH
	MOVX 	@DPTR,A
	RET  	
;                 return;
;             }else{        
			; SOURCE LINE # 505
?C0073:
;                 now_freq = sound_array[ptr];
			; SOURCE LINE # 506
	MOV  	DPTR,#sound_array
	MOVX 	A,@DPTR
	MOV  	R3,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	MOV  	DPTR,#ptr
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	B,#02H
	MUL  	AB
	MOV  	DPL,A
	MOV  	DPH,B
	LCALL	?C?ILDOPTR
	MOV  	R5,A
	MOV  	DPTR,#now_freq
	MOV  	A,B
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;                 now_dura = sound_array[ptr + 1] * 5;
			; SOURCE LINE # 507
	MOV  	A,R7
	ADD  	A,#01H
	MOV  	R7,A
	CLR  	A
	RLC  	A
	MOV  	R6,A
	MOV  	A,R7
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	MOV  	DPL,R7
	MOV  	DPH,A
	LCALL	?C?ILDOPTR
	MOV  	R7,A
	MOV  	R6,B
	MOV  	R4,#00H
	MOV  	R5,#05H
	LCALL	?C?IMUL
	MOV  	DPTR,#now_dura
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;                 ptr += 2;
			; SOURCE LINE # 508
	MOV  	DPTR,#ptr
	MOVX 	A,@DPTR
	ADD  	A,#02H
	MOVX 	@DPTR,A
;                 return;
;             }
			; SOURCE LINE # 510
;         }
			; SOURCE LINE # 511
;     }
			; SOURCE LINE # 512
; }
			; SOURCE LINE # 513
?C0071:
	RET  	
; END OF Buzzer_Poll

CSEG	AT	0301BH
	LJMP	Timer1_Isr

; 
; 
; void Timer1_Isr(void) interrupt 3

	RSEG  ?PR?Timer1_Isr?MAIN
	USING	0
Timer1_Isr:
	PUSH 	ACC
	PUSH 	B
	PUSH 	DPH
	PUSH 	DPL
	PUSH 	PSW
	MOV  	PSW,#00H
	PUSH 	AR0
	PUSH 	AR4
	PUSH 	AR5
	PUSH 	AR6
	PUSH 	AR7
	USING	0
			; SOURCE LINE # 516
; {
;     //Buzzer_Poll();
;     ms++;
			; SOURCE LINE # 519
	MOV  	DPTR,#ms
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	ADD  	A,#01H
	MOV  	R7,A
	CLR  	A
	ADDC 	A,R6
	MOV  	R6,A
	CLR  	A
	ADDC 	A,R5
	MOV  	R5,A
	CLR  	A
	ADDC 	A,R4
	MOV  	R4,A
	MOV  	DPTR,#ms
	LCALL	?C?LSTXDATA
; }
			; SOURCE LINE # 520
	POP  	AR7
	POP  	AR6
	POP  	AR5
	POP  	AR4
	POP  	AR0
	POP  	PSW
	POP  	DPL
	POP  	DPH
	POP  	B
	POP  	ACC
	RETI 	
; END OF Timer1_Isr

; 
; void Timer1_Init(void)		//1毫秒@40.000MHz

	RSEG  ?PR?Timer1_Init?MAIN
Timer1_Init:
	USING	0
			; SOURCE LINE # 522
; {
			; SOURCE LINE # 523
; 	AUXR |= 0x40;			//定时器时钟1T模式
			; SOURCE LINE # 524
	ORL  	AUXR,#040H
; 	TMOD &= 0x0F;			//设置定时器模式
			; SOURCE LINE # 525
	ANL  	TMOD,#0FH
; 	TL1 = 0xC0;				//设置定时初始值
			; SOURCE LINE # 526
	MOV  	TL1,#0C0H
; 	TH1 = 0x63;				//设置定时初始值
			; SOURCE LINE # 527
	MOV  	TH1,#063H
; 	TF1 = 0;				//清除TF1标志
			; SOURCE LINE # 528
	CLR  	TF1
; 	TR1 = 1;				//定时器1开始计时
			; SOURCE LINE # 529
	SETB 	TR1
; 	ET1 = 1;				//使能定时器1中断
			; SOURCE LINE # 530
	SETB 	ET1
; }
			; SOURCE LINE # 531
	RET  	
; END OF Timer1_Init

; 
; void main()

	RSEG  ?PR?main?MAIN
main:
	USING	0
			; SOURCE LINE # 533
; { 
			; SOURCE LINE # 534
;     uint16_t ms_cnt;
;     uint8_t quit;
;     int angleX;
;     int angleY;
;     int angleZ;
;     int i;
;     struct Vertex transformedVertices[128];
;     struct Vertex screenVertices[128];
;     float faceDepths[128];
;     int faceOrder[128];
;     int j, k;
;     int faceIndex,v1Index,v2Index;
;     float tempDepth;
;     int tempOrder;
;     fixed_t avgDepth;
;    // P_SW2 |= 0x80;
;     P0M0 = 0x00;
			; SOURCE LINE # 551
	CLR  	A
	MOV  	P0M0,A
;     P0M1 = 0x00;
			; SOURCE LINE # 552
	MOV  	P0M1,A
;     P1M1 = 0xf7;
			; SOURCE LINE # 553
	MOV  	P1M1,#0F7H
;     P1M0 = 0x00; // 设置为高阻抗
			; SOURCE LINE # 554
	MOV  	P1M0,A
;     P2M0 = 0x00;
			; SOURCE LINE # 555
	MOV  	P2M0,A
;     P2M1 = 0x00;
			; SOURCE LINE # 556
	MOV  	P2M1,A
;     P3M0 = 0x00;
			; SOURCE LINE # 557
	MOV  	P3M0,A
;     P3M1 = 0x00;
			; SOURCE LINE # 558
	MOV  	P3M1,A
;     P5M0 = 0x00;
			; SOURCE LINE # 559
	MOV  	P5M0,A
;     P5M1 = 0x00;
			; SOURCE LINE # 560
	MOV  	P5M1,A
;     Audio = 1;
			; SOURCE LINE # 561
	SETB 	Audio
;     Wifi = 0;
			; SOURCE LINE # 562
	CLR  	Wifi
;     laser = 0;
			; SOURCE LINE # 563
	CLR  	laser
;     light = 0;
			; SOURCE LINE # 564
	CLR  	light
;     OLED_Init();
			; SOURCE LINE # 565
	LCALL	OLED_Init
;     OLED_Display_On();
			; SOURCE LINE # 566
	LCALL	OLED_Display_On
;     OLED_ColorTurn(0);
			; SOURCE LINE # 567
	CLR  	A
	MOV  	R7,A
	LCALL	_OLED_ColorTurn
;     OLED_Clear();
			; SOURCE LINE # 568
	LCALL	OLED_Clear
;     Graphic_ClearBufferBit(0);
			; SOURCE LINE # 569
	CLR  	A
	MOV  	R7,A
	LCALL	_Graphic_ClearBufferBit
;     PWM_config();
			; SOURCE LINE # 570
	LCALL	PWM_config
;     
; 
;     Timer1_Init();
			; SOURCE LINE # 573
	LCALL	Timer1_Init
;     EA = 1;
			; SOURCE LINE # 574
	SETB 	EA
;     
; 
;     //Beep(500,1000);
;     /* 初始化三角函数表 */
;     initTrigTables();
			; SOURCE LINE # 579
	LCALL	initTrigTables
;     
;     /* 初始化旋转角度 */
;     angleX = 0;
			; SOURCE LINE # 582
	CLR  	A
	MOV  	DPTR,#angleX?13104
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;     angleY = 0;
			; SOURCE LINE # 583
	INC  	DPTR
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;     angleZ = 0;
			; SOURCE LINE # 584
	INC  	DPTR
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;     
;     /* 主循环标志 */
;     quit = 0;
			; SOURCE LINE # 587
	MOV  	DPTR,#quit?13103
	MOVX 	@DPTR,A
?C0077:
;     
;     while (!quit)
			; SOURCE LINE # 589
	MOV  	DPTR,#quit?13103
	MOVX 	A,@DPTR
	JZ   	$ + 5H
	LJMP 	?C0101
;     {
			; SOURCE LINE # 590
;         ta1 = ms;
			; SOURCE LINE # 591
	MOV  	DPTR,#ms
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#ta1
	LCALL	?C?LSTXDATA
;         
;         /* 更新旋转角度 */
;         angleX = (angleX + 2) % 360;
			; SOURCE LINE # 594
	MOV  	DPTR,#angleX?13104+01H
	MOVX 	A,@DPTR
	ADD  	A,#02H
	MOV  	R7,A
	MOV  	DPTR,#angleX?13104
	MOVX 	A,@DPTR
	ADDC 	A,#00H
	MOV  	R6,A
	MOV  	R4,#01H
	MOV  	R5,#068H
	LCALL	?C?SIDIV
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;         angleY = (angleY + 4) % 360;
			; SOURCE LINE # 595
	MOV  	DPTR,#angleY?13105+01H
	MOVX 	A,@DPTR
	ADD  	A,#04H
	MOV  	R7,A
	MOV  	DPTR,#angleY?13105
	MOVX 	A,@DPTR
	ADDC 	A,#00H
	MOV  	R6,A
	MOV  	R4,#01H
	MOV  	R5,#068H
	LCALL	?C?SIDIV
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;         angleZ = (angleZ + 6) % 360;
			; SOURCE LINE # 596
	MOV  	DPTR,#angleZ?13106+01H
	MOVX 	A,@DPTR
	ADD  	A,#06H
	MOV  	R7,A
	MOV  	DPTR,#angleZ?13106
	MOVX 	A,@DPTR
	ADDC 	A,#00H
	MOV  	R6,A
	MOV  	R4,#01H
	MOV  	R5,#068H
	LCALL	?C?SIDIV
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;         
;         Graphic_ClearBufferBit(0);
			; SOURCE LINE # 598
	CLR  	A
	MOV  	R7,A
	LCALL	_Graphic_ClearBufferBit
;         /* 旋转所有顶点 */
;         for (i = 0; i < VERTICE_COUNT; i++)
			; SOURCE LINE # 600
	CLR  	A
	MOV  	DPTR,#i?13107
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0079:
;         {
			; SOURCE LINE # 601
;             fixed_t x = ObjVertices[i].x;
			; SOURCE LINE # 602
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#ObjVertices
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#x?1399
	XCH  	A,R5
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;             fixed_t y = ObjVertices[i].y;
			; SOURCE LINE # 603
	MOV  	DPTR,#ObjVertices+02H
	MOV  	B,#06H
	MOV  	A,R7
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#y?13100
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             fixed_t z = ObjVertices[i].z;
			; SOURCE LINE # 604
	MOV  	DPTR,#i?13107
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#ObjVertices+04H
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#z?13101
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             
;             /* 应用旋转 */
;             rotatePoint(angleX, angleY, angleZ, &x, &y, &z);
			; SOURCE LINE # 607
	MOV  	DPTR,#angleX?13104
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	DPTR,#?_rotatePoint?BYTE+06H
	MOV  	A,#01H
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#HIGH (x?1399)
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#LOW (x?1399)
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#01H
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#HIGH (y?13100)
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#LOW (y?13100)
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#01H
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#HIGH (z?13101)
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#LOW (z?13101)
	MOVX 	@DPTR,A
	MOV  	DPTR,#angleZ?13106
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	LCALL	_rotatePoint
;             
;             transformedVertices[i].x = x;
			; SOURCE LINE # 609
	MOV  	DPTR,#x?1399
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R4
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             transformedVertices[i].y = y;
			; SOURCE LINE # 610
	MOV  	DPTR,#y?13100
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	DPTR,#transformedVertices?13108+02H
	MOV  	B,#06H
	MOV  	A,R5
	LCALL	?C?OFFXADD
	MOV  	A,R4
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
;             transformedVertices[i].z = z;
			; SOURCE LINE # 611
	MOV  	DPTR,#z?13101
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	DPTR,#transformedVertices?13108+04H
	MOV  	B,#06H
	MOV  	A,R5
	LCALL	?C?OFFXADD
	MOV  	A,R4
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
;             
;             /* 转换为屏幕坐标（正交投影，缩放1.5倍，居中） */
;             screenVertices[i].x = x / 2 + INT_TO_FIXED(LOGICAL_WIDTH / 2);
			; SOURCE LINE # 614
	MOV  	R4,#00H
	MOV  	R5,#02H
	LCALL	?C?SIDIV
	CLR  	A
	ADD  	A,R7
	MOV  	R7,A
	MOV  	A,R6
	ADDC 	A,#040H
	MOV  	R6,A
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	DPTR,#screenVertices?13109
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R2
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             screenVertices[i].y = y / 2 + INT_TO_FIXED(LOGICAL_HEIGHT / 2);
			; SOURCE LINE # 615
	MOV  	DPTR,#y?13100
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#00H
	MOV  	R5,#02H
	LCALL	?C?SIDIV
	CLR  	A
	ADD  	A,R7
	MOV  	R7,A
	MOV  	A,R6
	ADDC 	A,#020H
	MOV  	R6,A
	MOV  	DPTR,#screenVertices?13109+02H
	MOV  	B,#06H
	MOV  	A,R3
	LCALL	?C?OFFXADD
	MOV  	A,R2
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             screenVertices[i].z = z;
			; SOURCE LINE # 616
	MOV  	DPTR,#z?13101
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#screenVertices?13109+04H
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R4
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;         }
			; SOURCE LINE # 617
	MOV  	DPTR,#i?13107+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0118
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0118:
	CLR  	C
	MOV  	DPTR,#i?13107+01H
	MOVX 	A,@DPTR
	SUBB 	A,#08H
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	$ + 5H
	LJMP 	?C0079
?C0080:
;         
;         /* 计算每个面的深度（平均z值）用于排序 */
;         for (i = 0; i < FACE_COUNT; i++)
			; SOURCE LINE # 620
	CLR  	A
	MOV  	DPTR,#i?13107
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0082:
;         {
			; SOURCE LINE # 621
;             avgDepth = 0;
			; SOURCE LINE # 622
	CLR  	A
	MOV  	DPTR,#avgDepth?13119
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
;             
;             for (j = 0; j < ObjFaces[i].vertexCount; j++)
			; SOURCE LINE # 624
	MOV  	DPTR,#j?13112
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0085:
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	DPTR,#ObjFaces
	MOV  	B,#0BH
	LCALL	?C?OFFXADD
	MOV  	A,R4
	MOV  	B,#0BH
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#j?13112
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	CLR  	C
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R2
	XRL  	A,#080H
	SUBB 	A,R0
	JNC  	?C0086
;             {
			; SOURCE LINE # 625
;                 avgDepth += transformedVertices[ObjFaces[i].vertices[j]].z;
			; SOURCE LINE # 626
	MOV  	A,R3
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R2
	RLC  	A
	MOV  	R6,A
	MOV  	DPTR,#ObjFaces+02H
	MOV  	B,#0BH
	MOV  	A,R5
	LCALL	?C?OFFXADD
	MOV  	A,R4
	MOV  	B,#0BH
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOV  	A,DPL
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,DPH
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#transformedVertices?13108+04H
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#avgDepth?13119+01H
	MOVX 	A,@DPTR
	ADD  	A,R7
	MOVX 	@DPTR,A
	MOV  	DPTR,#avgDepth?13119
	MOVX 	A,@DPTR
	ADDC 	A,R6
	MOVX 	@DPTR,A
;             }
			; SOURCE LINE # 627
	MOV  	DPTR,#j?13112+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0119
	MOV  	DPTR,#j?13112
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0119:
	LJMP 	?C0085
?C0086:
;             
;             faceDepths[i] = (float)avgDepth / (ObjFaces[i].vertexCount * FIXED_SCALE);
			; SOURCE LINE # 629
	MOV  	DPTR,#avgDepth?13119
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	A,R4
	LCALL	?C?FCASTI
	PUSH 	AR4
	PUSH 	AR5
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#ObjFaces
	MOV  	B,#0BH
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#0BH
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,#00H
	MOV  	R4,A
	LCALL	?C?FCASTI
	MOV  	R0,AR4
	MOV  	R1,AR5
	MOV  	R2,AR6
	MOV  	R3,AR7
	POP  	AR7
	POP  	AR6
	POP  	AR5
	POP  	AR4
	LCALL	?C?FPDIV
	PUSH 	AR4
	PUSH 	AR5
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R6,AR2
	MOV  	R0,#02H
?C0120:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0120
	ADD  	A,#LOW (faceDepths?13110)
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110)
	ADDC 	A,R6
	MOV  	DPH,A
	POP  	AR7
	POP  	AR6
	POP  	AR5
	POP  	AR4
	LCALL	?C?LSTXDATA
;             faceOrder[i] = i;
			; SOURCE LINE # 630
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	A,R3
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R2
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (faceOrder?13111)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (faceOrder?13111)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;         }
			; SOURCE LINE # 631
	MOV  	DPTR,#i?13107+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0121
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0121:
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	JNZ  	?C0122
	INC  	DPTR
	MOVX 	A,@DPTR
	XRL  	A,#06H
?C0122:
	JZ   	$ + 5H
	LJMP 	?C0082
?C0083:
;         
;         /* 按深度排序面（从后往前绘制） */
;         for (j = 0; j < FACE_COUNT - 1; j++)
			; SOURCE LINE # 634
	CLR  	A
	MOV  	DPTR,#j?13112
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0088:
;         {
			; SOURCE LINE # 635
;             for (k = 0; k < FACE_COUNT - j - 1; k++)
			; SOURCE LINE # 636
	CLR  	A
	MOV  	DPTR,#k?13113
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0091:
	MOV  	DPTR,#j?13112
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	MOV  	A,#05H
	SUBB 	A,R7
	MOV  	R7,A
	CLR  	A
	SUBB 	A,R6
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	C
	SUBB 	A,R7
	MOV  	A,R6
	XRL  	A,#080H
	MOV  	R0,A
	MOV  	A,R4
	XRL  	A,#080H
	SUBB 	A,R0
	JC   	$ + 5H
	LJMP 	?C0090
;             {
			; SOURCE LINE # 637
;                 if (faceDepths[k] < faceDepths[k + 1])
			; SOURCE LINE # 638
	MOV  	R6,AR4
	MOV  	A,R5
	MOV  	R0,#02H
?C0123:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0123
	ADD  	A,#LOW (faceDepths?13110+04H)
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110+04H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	PUSH 	AR4
	PUSH 	AR5
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#k?13113
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R0,#02H
?C0124:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0124
	ADD  	A,#LOW (faceDepths?13110)
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R0,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R1,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	POP  	AR7
	POP  	AR6
	POP  	AR5
	POP  	AR4
	LCALL	?C?FPCMP3
	JC   	$ + 5H
	LJMP 	?C0093
;                 {
			; SOURCE LINE # 639
;                     /* 交换深度 */
;                     tempDepth = faceDepths[k];
			; SOURCE LINE # 641
	MOV  	DPTR,#k?13113
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R0,#02H
?C0125:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0125
	MOV  	R3,A
	MOV  	R2,AR6
	ADD  	A,#LOW (faceDepths?13110)
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110)
	ADDC 	A,R2
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#tempDepth?13117
	LCALL	?C?LSTXDATA
;                     faceDepths[k] = faceDepths[k + 1];
			; SOURCE LINE # 642
	MOV  	A,#LOW (faceDepths?13110+04H)
	ADD  	A,R3
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110+04H)
	ADDC 	A,R2
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	PUSH 	AR4
	PUSH 	AR5
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#k?13113
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R0,#02H
?C0126:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0126
	ADD  	A,#LOW (faceDepths?13110)
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110)
	ADDC 	A,R6
	MOV  	DPH,A
	POP  	AR7
	POP  	AR6
	POP  	AR5
	POP  	AR4
	LCALL	?C?LSTXDATA
;                     faceDepths[k + 1] = tempDepth;
			; SOURCE LINE # 643
	MOV  	DPTR,#tempDepth?13117
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	PUSH 	AR4
	PUSH 	AR5
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#k?13113
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R6,AR2
	MOV  	R0,#02H
?C0127:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0127
	ADD  	A,#LOW (faceDepths?13110+04H)
	MOV  	DPL,A
	MOV  	A,#HIGH (faceDepths?13110+04H)
	ADDC 	A,R6
	MOV  	DPH,A
	POP  	AR7
	POP  	AR6
	POP  	AR5
	POP  	AR4
	LCALL	?C?LSTXDATA
;                     
;                     /* 交换面顺序 */
;                     tempOrder = faceOrder[k];
			; SOURCE LINE # 646
	MOV  	A,R3
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R2
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (faceOrder?13111)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (faceOrder?13111)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
;---- Variable 'tempOrder?13118' assigned to Register 'R4/R5' ----
;                     faceOrder[k] = faceOrder[k + 1];
			; SOURCE LINE # 647
	MOV  	A,#LOW (faceOrder?13111+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (faceOrder?13111+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R2,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	DPTR,#k?13113+01H
	MOVX 	A,@DPTR
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	DPTR,#k?13113
	MOVX 	A,@DPTR
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (faceOrder?13111)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (faceOrder?13111)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R2
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R3
	MOVX 	@DPTR,A
;                     faceOrder[k + 1] = tempOrder;
			; SOURCE LINE # 648
	MOV  	A,#LOW (faceOrder?13111+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (faceOrder?13111+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOV  	A,R4
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
;                 }
			; SOURCE LINE # 649
;             }
			; SOURCE LINE # 650
?C0093:
	MOV  	DPTR,#k?13113+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0128
	MOV  	DPTR,#k?13113
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0128:
	LJMP 	?C0091
;         }
			; SOURCE LINE # 651
?C0090:
	MOV  	DPTR,#j?13112+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0129
	MOV  	DPTR,#j?13112
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0129:
	MOV  	DPTR,#j?13112
	MOVX 	A,@DPTR
	JNZ  	?C0130
	INC  	DPTR
	MOVX 	A,@DPTR
	XRL  	A,#05H
?C0130:
	JZ   	$ + 5H
	LJMP 	?C0088
?C0089:
;         
;         /* 绘制面（从后往前） */
;         for (i = 0; i < FACE_COUNT; i++)
			; SOURCE LINE # 654
	CLR  	A
	MOV  	DPTR,#i?13107
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0095:
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	SUBB 	A,#06H
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JNC  	?C0096
;         {
			; SOURCE LINE # 655
;             faceIndex = faceOrder[i];
			; SOURCE LINE # 656
	MOV  	A,R7
	ADD  	A,ACC
	MOV  	R7,A
	MOV  	A,R6
	RLC  	A
	MOV  	R6,A
	MOV  	A,#LOW (faceOrder?13111)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (faceOrder?13111)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#faceIndex?13114
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             drawFace(ObjFaces[faceIndex], screenVertices);
			; SOURCE LINE # 657
	MOV  	R4,#00H
	MOV  	R5,#0BH
	LCALL	?C?IMUL
	MOV  	A,#LOW (ObjFaces)
	ADD  	A,R7
	MOV  	R1,A
	MOV  	A,#HIGH (ObjFaces)
	ADDC 	A,R6
	MOV  	R2,A
	MOV  	R3,#01H
	MOV  	R0,#LOW (?drawFace?BYTE)
	MOV  	R4,#HIGH (?drawFace?BYTE)
	MOV  	R5,#01H
	MOV  	R6,#00H
	MOV  	R7,#0BH
	LCALL	?C?COPY
	MOV  	DPTR,#?drawFace?BYTE+0BH
	MOV  	A,#01H
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#HIGH (screenVertices?13109)
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,#LOW (screenVertices?13109)
	MOVX 	@DPTR,A
	LCALL	drawFace
;         }
			; SOURCE LINE # 658
	MOV  	DPTR,#i?13107+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0095
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0131:
	SJMP 	?C0095
?C0096:
;         
;         /* 绘制立方体的白色边线 */
;         for (i = 0; i < EDGE_COUNT; i++)
			; SOURCE LINE # 661
	CLR  	A
	MOV  	DPTR,#i?13107
	MOVX 	@DPTR,A
	INC  	DPTR
	MOVX 	@DPTR,A
?C0098:
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	CLR  	C
	SUBB 	A,#0CH
	MOV  	A,R6
	XRL  	A,#080H
	SUBB 	A,#080H
	JC   	$ + 5H
	LJMP 	?C0099
;         {
			; SOURCE LINE # 662
;             v1Index = ObjEdges[i].v1;
			; SOURCE LINE # 663
	MOV  	A,R7
	MOV  	R0,#02H
?C0132:
	CLR  	C
	RLC  	A
	XCH  	A,R6
	RLC  	A
	XCH  	A,R6
	DJNZ 	R0,?C0132
	MOV  	R7,A
	ADD  	A,#LOW (ObjEdges)
	MOV  	DPL,A
	MOV  	A,#HIGH (ObjEdges)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	MOV  	DPTR,#v1Index?13115
	MOV  	A,R4
	MOVX 	@DPTR,A
	MOV  	R2,A
	INC  	DPTR
	MOV  	A,R5
	MOVX 	@DPTR,A
	MOV  	R3,A
;             v2Index = ObjEdges[i].v2;
			; SOURCE LINE # 664
	MOV  	A,#LOW (ObjEdges+02H)
	ADD  	A,R7
	MOV  	DPL,A
	MOV  	A,#HIGH (ObjEdges+02H)
	ADDC 	A,R6
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R7,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#v2Index?13116
	XCH  	A,R7
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;             
;             drawLine(
;                 FIXED_TO_INT(screenVertices[v1Index].x),
;                 FIXED_TO_INT(screenVertices[v1Index].y),
;                 FIXED_TO_INT(screenVertices[v2Index].x),
;                 FIXED_TO_INT(screenVertices[v2Index].y)
			; SOURCE LINE # 670
	MOV  	DPTR,#screenVertices?13109
	MOV  	B,#06H
	MOV  	A,R3
	LCALL	?C?OFFXADD
	MOV  	A,R2
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#screenVertices?13109+02H
	MOV  	B,#06H
	MOV  	A,R3
	LCALL	?C?OFFXADD
	MOV  	A,R2
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	PUSH 	AR6
	PUSH 	AR7
	MOV  	DPTR,#v2Index?13116
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#screenVertices?13109
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	MOV  	R2,AR6
	MOV  	R3,AR7
	MOV  	DPTR,#v2Index?13116
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	DPTR,#screenVertices?13109+02H
	MOV  	B,#06H
	LCALL	?C?OFFXADD
	MOV  	A,R6
	MOV  	B,#06H
	MUL  	AB
	ADD  	A,DPH
	MOV  	DPH,A
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	R4,#01H
	MOV  	R5,#00H
	LCALL	?C?SIDIV
	MOV  	DPTR,#?_drawLine?BYTE+06H
	MOV  	A,R6
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
	POP  	AR5
	POP  	AR4
	POP  	AR7
	POP  	AR6
	LCALL	_drawLine
;             );
; 
;         }
			; SOURCE LINE # 673
	MOV  	DPTR,#i?13107+01H
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
	JNZ  	?C0133
	MOV  	DPTR,#i?13107
	MOVX 	A,@DPTR
	INC  	A
	MOVX 	@DPTR,A
?C0133:
	LJMP 	?C0098
?C0099:
;         
;         Graphic_Printf(0,0,"%.1f", 1000.0f/ ms_cnt);
			; SOURCE LINE # 675
	MOV  	DPTR,#ms_cnt?13102
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	CLR  	A
	LCALL	?C?FCASTI
	MOV  	R0,AR4
	MOV  	R1,AR5
	MOV  	R2,AR6
	MOV  	R3,AR7
	CLR  	A
	MOV  	R7,A
	MOV  	R6,A
	MOV  	R5,#07AH
	MOV  	R4,#044H
	LCALL	?C?FPDIV
	MOV  	DPTR,#?_Graphic_Printf?BYTE+05H
	LCALL	?C?LSTXDATA
	MOV  	R3,#0FFH
	MOV  	R2,#HIGH (?SC_0)
	MOV  	R1,#LOW (?SC_0)
	CLR  	A
	MOV  	R5,A
	MOV  	R7,A
	LCALL	_Graphic_Printf
;         Graphic_Flush();
			; SOURCE LINE # 676
	LCALL	Graphic_Flush
;         tb1 = ms;
			; SOURCE LINE # 677
	MOV  	DPTR,#ms
	MOVX 	A,@DPTR
	MOV  	R4,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R5,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R7,A
	MOV  	DPTR,#tb1
	LCALL	?C?LSTXDATA
;         ms_cnt = tb1 - ta1;
			; SOURCE LINE # 678
	MOV  	DPTR,#ta1
	INC  	DPTR
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R3,A
	MOV  	R2,AR6
	INC  	DPTR
	INC  	DPTR
	INC  	DPTR
	MOVX 	A,@DPTR
	MOV  	R6,A
	INC  	DPTR
	MOVX 	A,@DPTR
	CLR  	C
	SUBB 	A,R3
	MOV  	R7,A
	MOV  	A,R6
	SUBB 	A,R2
	MOV  	DPTR,#ms_cnt?13102
	MOVX 	@DPTR,A
	INC  	DPTR
	MOV  	A,R7
	MOVX 	@DPTR,A
;     }
			; SOURCE LINE # 679
	LJMP 	?C0077
?C0101:
; 
;     while (1)
			; SOURCE LINE # 681
	SJMP 	?C0101
; END OF main

	END
